
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>grafs_e package &#8212; GRAFS-E 01/02/25 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=390ba95b"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'grafs_e';</script>
    <link rel="canonical" href="https://adrienfaustegay.github.io/grafs-e-docs/grafs_e.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="GRAFS-E documentation" href="index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class=" navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">GRAFS-E 01/02/25 documentation</p>
  
</a></div>
    
  </div>
  
  <div class=" navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    grafs_e package
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item current active">
  <a class="nav-link nav-internal" href="#">
    grafs_e package
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"></div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">grafs_e package</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="grafs-e-package">
<h1>grafs_e package<a class="headerlink" href="#grafs-e-package" title="Link to this heading">#</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">#</a></h2>
</section>
<section id="module-grafs_e.N_class">
<span id="grafs-e-n-class-module"></span><h2>grafs_e.N_class module<a class="headerlink" href="#module-grafs_e.N_class" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="grafs_e.N_class.CultureData">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">grafs_e.N_class.</span></span><span class="sig-name descname"><span class="pre">CultureData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_loader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories_mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'Alfalfa</span> <span class="pre">and</span> <span class="pre">clover':</span> <span class="pre">'temporary</span> <span class="pre">meadows',</span> <span class="pre">'Barley':</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)',</span> <span class="pre">'Cabbage':</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables',</span> <span class="pre">'Citrus':</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables',</span> <span class="pre">'Dry</span> <span class="pre">beans':</span> <span class="pre">'leguminous',</span> <span class="pre">'Dry</span> <span class="pre">fruits':</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables',</span> <span class="pre">'Dry</span> <span class="pre">vegetables':</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables',</span> <span class="pre">'Flax':</span> <span class="pre">'oleaginous',</span> <span class="pre">'Forage</span> <span class="pre">cabbages':</span> <span class="pre">'forages',</span> <span class="pre">'Forage</span> <span class="pre">maize':</span> <span class="pre">'forages',</span> <span class="pre">'Fruits':</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables',</span> <span class="pre">'Grain</span> <span class="pre">maize':</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)',</span> <span class="pre">'Green</span> <span class="pre">beans':</span> <span class="pre">'leguminous',</span> <span class="pre">'Green</span> <span class="pre">peas':</span> <span class="pre">'leguminous',</span> <span class="pre">'Hemp':</span> <span class="pre">'oleaginous',</span> <span class="pre">'Horse</span> <span class="pre">beans</span> <span class="pre">and</span> <span class="pre">faba</span> <span class="pre">beans':</span> <span class="pre">'leguminous',</span> <span class="pre">'Leaves</span> <span class="pre">vegetables':</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables',</span> <span class="pre">'Natural</span> <span class="pre">meadow</span> <span class="pre">':</span> <span class="pre">'natural</span> <span class="pre">meadows</span> <span class="pre">',</span> <span class="pre">'Non-legume</span> <span class="pre">temporary</span> <span class="pre">meadow':</span> <span class="pre">'temporary</span> <span class="pre">meadows',</span> <span class="pre">'Oat':</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)',</span> <span class="pre">'Olives':</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables',</span> <span class="pre">'Other</span> <span class="pre">cereals':</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)',</span> <span class="pre">'Other</span> <span class="pre">oil</span> <span class="pre">crops':</span> <span class="pre">'leguminous',</span> <span class="pre">'Other</span> <span class="pre">protein</span> <span class="pre">crops':</span> <span class="pre">'leguminous',</span> <span class="pre">'Other</span> <span class="pre">roots':</span> <span class="pre">'roots',</span> <span class="pre">'Peas':</span> <span class="pre">'leguminous',</span> <span class="pre">'Potatoes':</span> <span class="pre">'roots',</span> <span class="pre">'Rapeseed':</span> <span class="pre">'oleaginous',</span> <span class="pre">'Rice':</span> <span class="pre">'rice',</span> <span class="pre">'Rye':</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)',</span> <span class="pre">'Soybean':</span> <span class="pre">'leguminous',</span> <span class="pre">'Squash</span> <span class="pre">and</span> <span class="pre">melons':</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables',</span> <span class="pre">'Straw':</span> <span class="pre">'forages',</span> <span class="pre">'Sugar</span> <span class="pre">beet':</span> <span class="pre">'roots',</span> <span class="pre">'Sunflower':</span> <span class="pre">'oleaginous',</span> <span class="pre">'Wheat':</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)'}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#CultureData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.CultureData" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class processes and creates a dataframe with crop data for a specific year and region.</p>
<p>The class uses the provided DataLoader instance to load and preprocess the data. It extracts relevant crop-related
information such as surface area, crop production, nitrogen production, and fertilization needs, and combines them into
a comprehensive dataframe.</p>
<dl>
<dt>Args:</dt><dd><p>data_loader (DataLoader): An instance of the DataLoader class used to load and preprocess the data.
region (str): The region for which to create the crop dataframe.
year (str): The year for which to create the crop dataframe.
categories_mapping (dict): A dictionary used to classify each crop, mapping crop names to categories.</p>
</dd>
<dt>Attributes:</dt><dd><p>region (str): The region for which the crop data is processed.
year (str): The year for which the crop data is processed.
df (pandas.DataFrame): A dataframe containing the preprocessed data for the specified year and region.
data_path (str): The path to the directory containing the data files.
categories_mapping (dict): A dictionary mapping crop names to their respective categories.
df_cultures (pandas.DataFrame): The final dataframe containing the processed crop data, including surface area,</p>
<blockquote>
<div><p>crop production, nitrogen production, yield, and fertilization needs.</p>
</div></blockquote>
</dd>
<dt>Methods:</dt><dd><dl class="simple">
<dt>create_culture_dataframe():</dt><dd><p>Processes the raw data to create the crop dataframe. This dataframe includes:
- Crop surface area (in hectares).
- Crop production (in kton DFW).
- Nitrogen production (in kton N).
- Yield per hectare (in qtl/ha).
- Fertilization needs per hectare (in kgN/ha).
The method performs various data transformations and calculations, including filling missing values with zero.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.CultureData.create_culture_dataframe">
<span class="sig-name descname"><span class="pre">create_culture_dataframe</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#CultureData.create_culture_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.CultureData.create_culture_dataframe" title="Link to this definition">#</a></dt>
<dd><p>Processes the raw data to create the crop dataframe.</p>
<p>The dataframe includes:
- Crop surface area (in hectares).
- Crop production (in kton DFW).
- Nitrogen production (in kton N).
- Yield per hectare (in qtl/ha).
- Fertilization needs per hectare (in kgN/ha).</p>
<p>This method performs the following steps:
- Extracts crop surface and production data from the main dataframe.
- Reads additional crop-specific data (fertilization and nitrogen content) from an external Excel file.
- Calculates the nitrogen production and yield based on crop production and surface area.
- Computes fertilization needs per hectare based on crop yield.
- Fills missing values with zero.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>pandas.DataFrame: A dataframe containing the processed crop data.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="grafs_e.N_class.DataLoader">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">grafs_e.N_class.</span></span><span class="sig-name descname"><span class="pre">DataLoader</span></span><a class="reference internal" href="_modules/grafs_e/N_class.html#DataLoader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.DataLoader" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Load the GRAFS Excel file (written by Julia Le Noë).</p>
<p>This class makes it possible to access all the data stored in the Excel file.
Currently, only yearly data (area, production, etc.) are accessed.
Stable data is stored in the ‘GRAFS_data.xlsx’ file.</p>
<p>This class will become obsolete once a proper database is built.</p>
<p>No arguments are required; the script automatically finds the Excel sheet.
Loading time: approximately 40 seconds.</p>
<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.DataLoader.get_import_feed">
<span class="sig-name descname"><span class="pre">get_import_feed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#DataLoader.get_import_feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.DataLoader.get_import_feed" title="Link to this definition">#</a></dt>
<dd><p>Select in the GRAFS excel the nitrogen import feed.
Args:</p>
<blockquote>
<div><p>year (str): The year for which to select the data.
region (str): The region for which to select the data.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.DataLoader.pre_process_df">
<span class="sig-name descname"><span class="pre">pre_process_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#DataLoader.pre_process_df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.DataLoader.pre_process_df" title="Link to this definition">#</a></dt>
<dd><p>Select the data sheet for a specific year and region.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>year (str): The year for which to select the data.
region (str): The region for which to select the data. Not used (deprecated). To access ta data of a specific region, use df[[“nom”, region]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="grafs_e.N_class.ElevageData">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">grafs_e.N_class.</span></span><span class="sig-name descname"><span class="pre">ElevageData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_loader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#ElevageData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.ElevageData" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class processes and creates a dataframe containing livestock data for a specific year and region.</p>
<p>The class uses data from the provided DataLoader instance, filters and processes it to generate
a dataframe containing livestock production and emissions data.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>data_loader (DataLoader): An instance of the DataLoader class used to load and preprocess the data.
year (str): The year for which to generate the livestock dataframe.
region (str): The region for which to generate the livestock dataframe.</p>
</dd>
<dt>Attributes:</dt><dd><p>region (str): The region for which the livestock data is processed.
year (str): The year for which the livestock data is processed.
df (pandas.DataFrame): A dataframe containing the preprocessed data for the specified year and region.
data_path (str): The path to the directory containing the data files.
dataloader (DataLoader): The instance of the DataLoader used to load the data.
df_elevage (pandas.DataFrame): The final dataframe containing livestock production and emissions data.</p>
</dd>
<dt>Methods:</dt><dd><dl class="simple">
<dt>create_elevage_dataframe():</dt><dd><p>Processes the pre-loaded data to create the livestock dataframe, which includes both production data
and associated emission data. The production data is filtered and matched with gas emission data
for the specified region, and missing values are filled with zero.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.ElevageData.create_elevage_dataframe">
<span class="sig-name descname"><span class="pre">create_elevage_dataframe</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#ElevageData.create_elevage_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.ElevageData.create_elevage_dataframe" title="Link to this definition">#</a></dt>
<dd><p>Processes the raw data to create the livestock dataframe.</p>
<p>The dataframe includes the following:
- Livestock production data (in kton carcass) for the specified region.
- Gas emissions data related to livestock (volatilisation) linked by the ‘Elevage’ index.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>pandas.DataFrame: A dataframe containing the processed livestock production data and gas emissions data.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="grafs_e.N_class.FluxGenerator">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">grafs_e.N_class.</span></span><span class="sig-name descname"><span class="pre">FluxGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#FluxGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.FluxGenerator" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class generates and manages the transition matrix of fluxes between various sectors (e.g., agriculture, livestock, industry, trade).</p>
<p>The transition matrix is used to model the flow of resources or interactions between sectors, where each entry in the matrix represents the relationship or flow between a source sector and a target sector.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>labels (list): A list of labels representing the sectors (e.g., [‘agriculture’, ‘livestock’, ‘industry’, ‘trade’]) in the model. These labels are used to index the transition matrix and identify the sectors in the flux calculations.</p>
</dd>
<dt>Attributes:</dt><dd><p>labels (list): The list of labels (sectors) that are used to define the transition matrix.
label_to_index (dict): A dictionary mapping each label (sector) to its corresponding index in the adjacency matrix.
n (int): The number of sectors (i.e., the length of the labels list).
adjacency_matrix (numpy.ndarray): A square matrix of size n x n representing the fluxes between sectors. Each element in the matrix holds the transition coefficient between a source and a target sector.</p>
</dd>
<dt>Methods:</dt><dd><dl class="simple">
<dt>generate_flux(source, target):</dt><dd><p>Generates and updates the transition matrix by calculating flux coefficients between the source and target sectors. The coefficients are based on the provided <cite>source</cite> and <cite>target</cite> dictionaries.</p>
</dd>
<dt>get_coef(source_label, target_label):</dt><dd><p>Retrieves the transition coefficient for the flux between two sectors (identified by their labels) from the transition matrix.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.FluxGenerator.generate_flux">
<span class="sig-name descname"><span class="pre">generate_flux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#FluxGenerator.generate_flux"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.FluxGenerator.generate_flux" title="Link to this definition">#</a></dt>
<dd><p>Generates and updates the transition matrix by calculating the flux coefficients between the source and target sectors.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>source (dict): A dictionary representing the source sector, where keys are sector labels and values are the corresponding flux values.
target (dict): A dictionary representing the target sector, where keys are sector labels and values are the corresponding flux values.</p>
</dd>
</dl>
<p>This method updates the adjacency matrix by computing the flux between all pairs of source and target sectors.
A flux coefficient is calculated as the product of the corresponding values from the <cite>source</cite> and <cite>target</cite> dictionaries.
If the coefficient exceeds a small threshold (10^-7), it is added to the matrix at the corresponding position.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.FluxGenerator.get_coef">
<span class="sig-name descname"><span class="pre">get_coef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_label</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#FluxGenerator.get_coef"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.FluxGenerator.get_coef" title="Link to this definition">#</a></dt>
<dd><p>Retrieves the transition coefficient between two sectors from the adjacency matrix.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>source_label (str): The label of the source sector.
target_label (str): The label of the target sector.</p>
</dd>
<dt>Returns:</dt><dd><p>float or None: The transition coefficient between the source and target sectors. Returns None if either sector is not found in the matrix.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">grafs_e.N_class.</span></span><span class="sig-name descname"><span class="pre">NitrogenFlowModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories_mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'Alfalfa</span> <span class="pre">and</span> <span class="pre">clover':</span> <span class="pre">'temporary</span> <span class="pre">meadows',</span> <span class="pre">'Barley':</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)',</span> <span class="pre">'Cabbage':</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables',</span> <span class="pre">'Citrus':</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables',</span> <span class="pre">'Dry</span> <span class="pre">beans':</span> <span class="pre">'leguminous',</span> <span class="pre">'Dry</span> <span class="pre">fruits':</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables',</span> <span class="pre">'Dry</span> <span class="pre">vegetables':</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables',</span> <span class="pre">'Flax':</span> <span class="pre">'oleaginous',</span> <span class="pre">'Forage</span> <span class="pre">cabbages':</span> <span class="pre">'forages',</span> <span class="pre">'Forage</span> <span class="pre">maize':</span> <span class="pre">'forages',</span> <span class="pre">'Fruits':</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables',</span> <span class="pre">'Grain</span> <span class="pre">maize':</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)',</span> <span class="pre">'Green</span> <span class="pre">beans':</span> <span class="pre">'leguminous',</span> <span class="pre">'Green</span> <span class="pre">peas':</span> <span class="pre">'leguminous',</span> <span class="pre">'Hemp':</span> <span class="pre">'oleaginous',</span> <span class="pre">'Horse</span> <span class="pre">beans</span> <span class="pre">and</span> <span class="pre">faba</span> <span class="pre">beans':</span> <span class="pre">'leguminous',</span> <span class="pre">'Leaves</span> <span class="pre">vegetables':</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables',</span> <span class="pre">'Natural</span> <span class="pre">meadow</span> <span class="pre">':</span> <span class="pre">'natural</span> <span class="pre">meadows</span> <span class="pre">',</span> <span class="pre">'Non-legume</span> <span class="pre">temporary</span> <span class="pre">meadow':</span> <span class="pre">'temporary</span> <span class="pre">meadows',</span> <span class="pre">'Oat':</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)',</span> <span class="pre">'Olives':</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables',</span> <span class="pre">'Other</span> <span class="pre">cereals':</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)',</span> <span class="pre">'Other</span> <span class="pre">oil</span> <span class="pre">crops':</span> <span class="pre">'leguminous',</span> <span class="pre">'Other</span> <span class="pre">protein</span> <span class="pre">crops':</span> <span class="pre">'leguminous',</span> <span class="pre">'Other</span> <span class="pre">roots':</span> <span class="pre">'roots',</span> <span class="pre">'Peas':</span> <span class="pre">'leguminous',</span> <span class="pre">'Potatoes':</span> <span class="pre">'roots',</span> <span class="pre">'Rapeseed':</span> <span class="pre">'oleaginous',</span> <span class="pre">'Rice':</span> <span class="pre">'rice',</span> <span class="pre">'Rye':</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)',</span> <span class="pre">'Soybean':</span> <span class="pre">'leguminous',</span> <span class="pre">'Squash</span> <span class="pre">and</span> <span class="pre">melons':</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables',</span> <span class="pre">'Straw':</span> <span class="pre">'forages',</span> <span class="pre">'Sugar</span> <span class="pre">beet':</span> <span class="pre">'roots',</span> <span class="pre">'Sunflower':</span> <span class="pre">'oleaginous',</span> <span class="pre">'Wheat':</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['Wheat',</span> <span class="pre">'Rye',</span> <span class="pre">'Barley',</span> <span class="pre">'Oat',</span> <span class="pre">'Grain</span> <span class="pre">maize',</span> <span class="pre">'Rice',</span> <span class="pre">'Other</span> <span class="pre">cereals',</span> <span class="pre">'Straw',</span> <span class="pre">'Forage</span> <span class="pre">maize',</span> <span class="pre">'Forage</span> <span class="pre">cabbages',</span> <span class="pre">'Rapeseed',</span> <span class="pre">'Sunflower',</span> <span class="pre">'Other</span> <span class="pre">oil</span> <span class="pre">crops',</span> <span class="pre">'Sugar</span> <span class="pre">beet',</span> <span class="pre">'Potatoes',</span> <span class="pre">'Other</span> <span class="pre">roots',</span> <span class="pre">'Dry</span> <span class="pre">vegetables',</span> <span class="pre">'Dry</span> <span class="pre">fruits',</span> <span class="pre">'Squash</span> <span class="pre">and</span> <span class="pre">melons',</span> <span class="pre">'Cabbage',</span> <span class="pre">'Leaves</span> <span class="pre">vegetables',</span> <span class="pre">'Fruits',</span> <span class="pre">'Olives',</span> <span class="pre">'Citrus',</span> <span class="pre">'Hemp',</span> <span class="pre">'Flax',</span> <span class="pre">'Non-legume</span> <span class="pre">temporary</span> <span class="pre">meadow',</span> <span class="pre">'Horse</span> <span class="pre">beans</span> <span class="pre">and</span> <span class="pre">faba</span> <span class="pre">beans',</span> <span class="pre">'Peas',</span> <span class="pre">'Other</span> <span class="pre">protein</span> <span class="pre">crops',</span> <span class="pre">'Green</span> <span class="pre">peas',</span> <span class="pre">'Dry</span> <span class="pre">beans',</span> <span class="pre">'Green</span> <span class="pre">beans',</span> <span class="pre">'Soybean',</span> <span class="pre">'Alfalfa</span> <span class="pre">and</span> <span class="pre">clover',</span> <span class="pre">'Natural</span> <span class="pre">meadow</span> <span class="pre">',</span> <span class="pre">'bovines',</span> <span class="pre">'ovines',</span> <span class="pre">'caprines',</span> <span class="pre">'porcines',</span> <span class="pre">'poultry',</span> <span class="pre">'equine',</span> <span class="pre">'urban',</span> <span class="pre">'rural',</span> <span class="pre">'NH3</span> <span class="pre">volatilization',</span> <span class="pre">'N2O</span> <span class="pre">emission',</span> <span class="pre">'hydro-system',</span> <span class="pre">'other</span> <span class="pre">losses',</span> <span class="pre">'soil</span> <span class="pre">stock',</span> <span class="pre">'atmospheric</span> <span class="pre">N2',</span> <span class="pre">'Haber-Bosch',</span> <span class="pre">'other</span> <span class="pre">sectors',</span> <span class="pre">'animal</span> <span class="pre">trade',</span> <span class="pre">'fishery</span> <span class="pre">products',</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'leguminous</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'oleaginous</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'roots</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'rice</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)</span> <span class="pre">feed</span> <span class="pre">trade',</span> <span class="pre">'leguminous</span> <span class="pre">feed</span> <span class="pre">trade',</span> <span class="pre">'oleaginous</span> <span class="pre">feed</span> <span class="pre">trade',</span> <span class="pre">'forages</span> <span class="pre">feed</span> <span class="pre">trade',</span> <span class="pre">'temporary</span> <span class="pre">meadows</span> <span class="pre">feed</span> <span class="pre">trade']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cultures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['Wheat',</span> <span class="pre">'Rye',</span> <span class="pre">'Barley',</span> <span class="pre">'Oat',</span> <span class="pre">'Grain</span> <span class="pre">maize',</span> <span class="pre">'Rice',</span> <span class="pre">'Other</span> <span class="pre">cereals',</span> <span class="pre">'Straw',</span> <span class="pre">'Forage</span> <span class="pre">maize',</span> <span class="pre">'Forage</span> <span class="pre">cabbages',</span> <span class="pre">'Rapeseed',</span> <span class="pre">'Sunflower',</span> <span class="pre">'Other</span> <span class="pre">oil</span> <span class="pre">crops',</span> <span class="pre">'Sugar</span> <span class="pre">beet',</span> <span class="pre">'Potatoes',</span> <span class="pre">'Other</span> <span class="pre">roots',</span> <span class="pre">'Dry</span> <span class="pre">vegetables',</span> <span class="pre">'Dry</span> <span class="pre">fruits',</span> <span class="pre">'Squash</span> <span class="pre">and</span> <span class="pre">melons',</span> <span class="pre">'Cabbage',</span> <span class="pre">'Leaves</span> <span class="pre">vegetables',</span> <span class="pre">'Fruits',</span> <span class="pre">'Olives',</span> <span class="pre">'Citrus',</span> <span class="pre">'Hemp',</span> <span class="pre">'Flax',</span> <span class="pre">'Non-legume</span> <span class="pre">temporary</span> <span class="pre">meadow']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legumineuses</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['Horse</span> <span class="pre">beans</span> <span class="pre">and</span> <span class="pre">faba</span> <span class="pre">beans',</span> <span class="pre">'Peas',</span> <span class="pre">'Other</span> <span class="pre">protein</span> <span class="pre">crops',</span> <span class="pre">'Green</span> <span class="pre">peas',</span> <span class="pre">'Dry</span> <span class="pre">beans',</span> <span class="pre">'Green</span> <span class="pre">beans',</span> <span class="pre">'Soybean',</span> <span class="pre">'Alfalfa</span> <span class="pre">and</span> <span class="pre">clover']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prairies</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['Natural</span> <span class="pre">meadow</span> <span class="pre">']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">betail</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['bovines',</span> <span class="pre">'ovines',</span> <span class="pre">'caprines',</span> <span class="pre">'porcines',</span> <span class="pre">'poultry',</span> <span class="pre">'equine']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Pop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['urban',</span> <span class="pre">'rural']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['NH3</span> <span class="pre">volatilization',</span> <span class="pre">'N2O</span> <span class="pre">emission',</span> <span class="pre">'hydro-system',</span> <span class="pre">'other</span> <span class="pre">losses',</span> <span class="pre">'soil</span> <span class="pre">stock',</span> <span class="pre">'atmospheric</span> <span class="pre">N2',</span> <span class="pre">'Haber-Bosch',</span> <span class="pre">'other</span> <span class="pre">sectors',</span> <span class="pre">'animal</span> <span class="pre">trade',</span> <span class="pre">'fishery</span> <span class="pre">products',</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'leguminous</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'oleaginous</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'roots</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'rice</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)</span> <span class="pre">feed</span> <span class="pre">trade',</span> <span class="pre">'leguminous</span> <span class="pre">feed</span> <span class="pre">trade',</span> <span class="pre">'oleaginous</span> <span class="pre">feed</span> <span class="pre">trade',</span> <span class="pre">'forages</span> <span class="pre">feed</span> <span class="pre">trade',</span> <span class="pre">'temporary</span> <span class="pre">meadows</span> <span class="pre">feed</span> <span class="pre">trade']</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class models the nitrogen flow in an agricultural system, calculating fluxes and nitrogen dynamics
for different sectors (e.g., crops, livestock) over a given year and region.</p>
<p>The model incorporates various processes, including crop production, animal production, nitrogen emissions,
and fertilization, and computes the corresponding nitrogen fluxes between sectors using transition matrices.</p>
<p>This class provides methods to compute fluxes, generate heatmaps, and access matrices such as the transition matrix,
core matrix, and adjacency matrix.</p>
<p>For a detailed explanation of the model’s methodology and mathematical foundations, please refer to the associated
scientific paper: Tracking Nitrogen Dynamics: A Disaggregated Approach for French Agro-Food Systems, 2025, Adrien Fauste-Gay (pre-print).</p>
<dl class="simple">
<dt>Args:</dt><dd><p>data (DataLoader): An instance of the DataLoader class to load and preprocess the data.
year (str): The year for which to compute the nitrogen flow model.
region (str): The region for which to compute the nitrogen flow model.
categories_mapping (dict, optional): A dictionary used to classify each crop. Defaults to categories_mapping.
labels (list, optional): A list of labels representing the sectors in the model. Defaults to labels.
cultures (CultureData, optional): An instance of the CultureData class for crop data processing.
legumineuses (list, optional): A list representing leguminous crops in the model.
prairies (list, optional): A list representing grasslands and prairies in the model.
betail (list, optional): A list representing livestock categories in the model.
Pop (list, optional): A list representing the population data.
ext (list, optional): A list representing external data or processes affecting nitrogen fluxes.</p>
</dd>
<dt>Attributes:</dt><dd><p>year (str): The year for which the nitrogen flow model is computed.
region (str): The region for which the nitrogen flow model is computed.
categories_mapping (dict): The dictionary used to classify crops.
labels (list): The list of labels representing the sectors in the model.
data_loader (DataLoader): The instance of the DataLoader used to load the data.
culture_data (CultureData): An instance of the CultureData class for crop data.
elevage_data (ElevageData): An instance of the ElevageData class for livestock data.
flux_generator (FluxGenerator): An instance of the FluxGenerator class to generate flux coefficients.
df_cultures (pandas.DataFrame): The dataframe containing crop data.
df_elevage (pandas.DataFrame): The dataframe containing livestock data.
adjacency_matrix (numpy.ndarray): The matrix representing nitrogen fluxes between sectors.
label_to_index (dict): A dictionary mapping sector labels to matrix indices.</p>
</dd>
<dt>Methods:</dt><dd><dl class="simple">
<dt>compute_fluxes():</dt><dd><p>Computes the nitrogen fluxes between the sectors of the model. This method populates the adjacency matrix
with flux coefficients based on the interactions between crops, livestock, emissions, and fertilization.</p>
</dd>
<dt>plot_heatmap():</dt><dd><p>Generates a heatmap visualization of the transition matrix for nitrogen fluxes.</p>
</dd>
<dt>plot_heatmap_interactive():</dt><dd><p>Generates an interactive heatmap for the nitrogen fluxes.</p>
</dd>
<dt>get_df_culture():</dt><dd><p>Returns the dataframe containing crop data.</p>
</dd>
<dt>get_df_elevage():</dt><dd><p>Returns the dataframe containing livestock data.</p>
</dd>
<dt>get_transition_matrix():</dt><dd><p>Returns the transition matrix representing nitrogen fluxes between sectors.</p>
</dd>
<dt>get_core_matrix():</dt><dd><p>Returns the core matrix representing the primary fluxes in the system.</p>
</dd>
<dt>get_adjacency_matrix():</dt><dd><p>Returns the adjacency matrix, which is used to represent the complete set of nitrogen fluxes between sectors.</p>
</dd>
<dt>extract_input_output_matrixs():</dt><dd><p>Extracts and returns the input-output matrices of nitrogen fluxes.</p>
</dd>
<dt>imported_nitrogen():</dt><dd><p>Returns the total amount of imported nitrogen in the system.</p>
</dd>
<dt>net_imported_plant():</dt><dd><p>Returns the net imported nitrogen for plants.</p>
</dd>
<dt>net_imported_animal():</dt><dd><p>Returns the net imported nitrogen for livestock.</p>
</dd>
<dt>total_plant_production():</dt><dd><p>Returns the total plant production in the model.</p>
</dd>
<dt>stacked_plant_production():</dt><dd><p>Returns a stacked representation of plant production data.</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.C_eff">
<span class="sig-name descname"><span class="pre">C_eff</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.C_eff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.C_eff" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.F_eff">
<span class="sig-name descname"><span class="pre">F_eff</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.F_eff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.F_eff" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.Ftot">
<span class="sig-name descname"><span class="pre">Ftot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.Ftot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.Ftot" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.LU_density">
<span class="sig-name descname"><span class="pre">LU_density</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.LU_density"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.LU_density" title="Link to this definition">#</a></dt>
<dd><p>Calculates the livestock unit density over the agricultural area.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Livestock unit per hectare (LU/ha).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.N2O_em">
<span class="sig-name descname"><span class="pre">N2O_em</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.N2O_em"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.N2O_em" title="Link to this definition">#</a></dt>
<dd><p>Returns the total N₂O emissions in the system.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>N₂O emissions in kt.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.NH3_vol">
<span class="sig-name descname"><span class="pre">NH3_vol</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.NH3_vol"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.NH3_vol" title="Link to this definition">#</a></dt>
<dd><p>Returns the total NH₃ volatilization in the system.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>NH₃ emissions in kt.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.NUE">
<span class="sig-name descname"><span class="pre">NUE</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.NUE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.NUE" title="Link to this definition">#</a></dt>
<dd><p>Calculates the crop-level nitrogen use efficiency (NUE).</p>
<p>Defined as the ratio of nitrogen produced by crops over total nitrogen inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>NUE of crop systems (%).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.NUE_system">
<span class="sig-name descname"><span class="pre">NUE_system</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.NUE_system"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.NUE_system" title="Link to this definition">#</a></dt>
<dd><p>Calculates system-wide nitrogen use efficiency, including crop and livestock production.</p>
<p>Accounts for feed losses and nitrogen consumed via imported feed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>System-wide NUE (%).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.NUE_system_2">
<span class="sig-name descname"><span class="pre">NUE_system_2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.NUE_system_2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.NUE_system_2" title="Link to this definition">#</a></dt>
<dd><p>Alternative NUE computation considering livestock conversion factors and feed inputs.</p>
<p>Includes non-edible nitrogen outputs and imported feed consumption in the calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Adjusted system-wide NUE (%).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.N_eff">
<span class="sig-name descname"><span class="pre">N_eff</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.N_eff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.N_eff" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.N_self_sufficient">
<span class="sig-name descname"><span class="pre">N_self_sufficient</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.N_self_sufficient"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.N_self_sufficient" title="Link to this definition">#</a></dt>
<dd><p>Estimates nitrogen self-sufficiency of the system.</p>
<p>Defined as the share of atmospheric (biological) nitrogen inputs relative to all external nitrogen sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Self-sufficiency ratio (%).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.R_eff">
<span class="sig-name descname"><span class="pre">R_eff</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.R_eff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.R_eff" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.Y">
<span class="sig-name descname"><span class="pre">Y</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.Y"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.Y" title="Link to this definition">#</a></dt>
<dd><p>Computes the nitrogen yield of a given crop.</p>
<p>Yield is calculated as nitrogen production (kgN) per hectare for the specified crop.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>culture</strong> (<em>str</em>) – The name of the crop (index of <cite>df_cultures</cite>).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Nitrogen yield in kgN/ha.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.animal_production">
<span class="sig-name descname"><span class="pre">animal_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.animal_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.animal_production" title="Link to this definition">#</a></dt>
<dd><p>Returns the total edible nitrogen produced by livestock sectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen in edible animal products (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.cereals_production">
<span class="sig-name descname"><span class="pre">cereals_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.cereals_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.cereals_production" title="Link to this definition">#</a></dt>
<dd><p>Returns the nitrogen production from cereal crops.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen from cereals (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.cereals_production_r">
<span class="sig-name descname"><span class="pre">cereals_production_r</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.cereals_production_r"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.cereals_production_r" title="Link to this definition">#</a></dt>
<dd><p>Returns the share of nitrogen production from cereals relative to total plant production.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Percentage of total plant nitrogen production from cereals.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.compute_fluxes">
<span class="sig-name descname"><span class="pre">compute_fluxes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.compute_fluxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.compute_fluxes" title="Link to this definition">#</a></dt>
<dd><p>Computes the nitrogen fluxes for all sectors in the model.</p>
<p>This method populates the adjacency matrix with flux coefficients based on sector interactions. These interactions
include crop production, livestock production, nitrogen emissions, and fertilization. The coefficients are used to
model the flow of nitrogen between sectors over the specified year and region.</p>
<p>The computation involves complex mathematical processes, which are detailed in the associated scientific methodology
paper: Tracking Nitrogen Dynamics: A Disaggregated Approach for French Agro-Food Systems, 2025, Adrien Fauste-Gay (pre-print).</p>
<p>For an in-depth explanation of the model’s functioning, please refer to the accompanying paper.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.emissions">
<span class="sig-name descname"><span class="pre">emissions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.emissions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.emissions" title="Link to this definition">#</a></dt>
<dd><p>Computes the total nitrogen emissions from the system.</p>
<p>Includes N₂O emissions, atmospheric N₂ release, and NH₃ volatilization, with unit conversions.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas Series with nitrogen emission quantities.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.env_footprint">
<span class="sig-name descname"><span class="pre">env_footprint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.env_footprint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.env_footprint" title="Link to this definition">#</a></dt>
<dd><p>Calculates the land footprint (in ha) of nitrogen flows linked to:
- local food and feed production,
- imported food and feed,
- imported and exported livestock nitrogen,
- crop exports for feed and food.</p>
<p>This is expressed as theoretical land areas mobilized by the nitrogen content.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas Series of land footprint values (in ha), positive for imports and local use, negative for exports.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.extract_input_output_matrixs">
<span class="sig-name descname"><span class="pre">extract_input_output_matrixs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.extract_input_output_matrixs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.extract_input_output_matrixs" title="Link to this definition">#</a></dt>
<dd><p>Extracts input and output matrices (C and B blocks) from the full transition matrix.</p>
<p>These matrices represent the nitrogen flows between core and external sectors:
- B: Outputs from core to external sectors.
- C: Inputs from external to core sectors.</p>
<p>If <cite>clean</cite> is True, the method removes rows and columns corresponding to inactive sectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>clean</strong> (<em>bool</em>) – Whether to remove zero-flow sectors from the matrices.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple (B, C) of NumPy arrays.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[numpy.ndarray, numpy.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.fruits_and_vegetable_production">
<span class="sig-name descname"><span class="pre">fruits_and_vegetable_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.fruits_and_vegetable_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.fruits_and_vegetable_production" title="Link to this definition">#</a></dt>
<dd><p>Returns the nitrogen production from fruits and vegetables crops.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen from fruits and vegetables (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.fruits_and_vegetable_production_r">
<span class="sig-name descname"><span class="pre">fruits_and_vegetable_production_r</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.fruits_and_vegetable_production_r"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.fruits_and_vegetable_production_r" title="Link to this definition">#</a></dt>
<dd><p>Returns the share of nitrogen production from fruits and vegetables relative to total plant production.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Percentage of total plant nitrogen production from fruits and vegetables.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.get_adjacency_matrix">
<span class="sig-name descname"><span class="pre">get_adjacency_matrix</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.get_adjacency_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.get_adjacency_matrix" title="Link to this definition">#</a></dt>
<dd><p>Returns the binary adjacency matrix of nitrogen fluxes.</p>
<p>This matrix has the same dimensions as the core matrix and indicates the presence
(1) or absence (0) of nitrogen fluxes between sectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A binary adjacency matrix.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.get_core_matrix">
<span class="sig-name descname"><span class="pre">get_core_matrix</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.get_core_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.get_core_matrix" title="Link to this definition">#</a></dt>
<dd><p>Extracts and returns the core matrix of nitrogen fluxes between active sectors.</p>
<p>This method filters out rows and columns with no flows and excludes external sectors.
The result isolates the central dynamics of the system.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A 2D NumPy array of the filtered core matrix.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.get_df_culture">
<span class="sig-name descname"><span class="pre">get_df_culture</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.get_df_culture"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.get_df_culture" title="Link to this definition">#</a></dt>
<dd><p>Returns the DataFrame containing crop-related data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas DataFrame with crop data used in the nitrogen model.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.get_df_elevage">
<span class="sig-name descname"><span class="pre">get_df_elevage</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.get_df_elevage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.get_df_elevage" title="Link to this definition">#</a></dt>
<dd><p>Returns the DataFrame containing livestock-related data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas DataFrame with livestock data used in the nitrogen model.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.get_transition_matrix">
<span class="sig-name descname"><span class="pre">get_transition_matrix</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.get_transition_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.get_transition_matrix" title="Link to this definition">#</a></dt>
<dd><p>Returns the full nitrogen transition matrix.</p>
<p>This matrix represents all nitrogen fluxes between sectors, including core and external processes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A 2D NumPy array representing nitrogen fluxes between all sectors.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.grassland_and_forages_production">
<span class="sig-name descname"><span class="pre">grassland_and_forages_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.grassland_and_forages_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.grassland_and_forages_production" title="Link to this definition">#</a></dt>
<dd><p>Returns the nitrogen production from grassland and forages crops.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen from grassland and forages (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.grassland_and_forages_production_r">
<span class="sig-name descname"><span class="pre">grassland_and_forages_production_r</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.grassland_and_forages_production_r"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.grassland_and_forages_production_r" title="Link to this definition">#</a></dt>
<dd><p>Returns the share of nitrogen production from forages relative to total plant production.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Percentage of total plant nitrogen production from forages.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.imported_nitrogen">
<span class="sig-name descname"><span class="pre">imported_nitrogen</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.imported_nitrogen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.imported_nitrogen" title="Link to this definition">#</a></dt>
<dd><p>Calculates the total amount of nitrogen imported into the system.</p>
<p>Includes nitrogen in imported food, feed, and excess feed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total imported nitrogen (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.leguminous_production">
<span class="sig-name descname"><span class="pre">leguminous_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.leguminous_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.leguminous_production" title="Link to this definition">#</a></dt>
<dd><p>Returns the nitrogen production from leguminous crops.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen from leguminous (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.leguminous_production_r">
<span class="sig-name descname"><span class="pre">leguminous_production_r</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.leguminous_production_r"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.leguminous_production_r" title="Link to this definition">#</a></dt>
<dd><p>Returns the share of nitrogen production from leguminous relative to total plant production.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Percentage of total plant nitrogen production from leguminous.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.net_footprint">
<span class="sig-name descname"><span class="pre">net_footprint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.net_footprint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.net_footprint" title="Link to this definition">#</a></dt>
<dd><p>Computes the net nitrogen land footprint of the region (in Mha).</p>
<p>Aggregates all imports and exports to yield a net balance of nitrogen-dependent land use.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Net land footprint (in million hectares).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.net_imported_animal">
<span class="sig-name descname"><span class="pre">net_imported_animal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.net_imported_animal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.net_imported_animal" title="Link to this definition">#</a></dt>
<dd><p>Returns the net nitrogen export for animal sectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen exported via animal products (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.net_imported_plant">
<span class="sig-name descname"><span class="pre">net_imported_plant</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.net_imported_plant"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.net_imported_plant" title="Link to this definition">#</a></dt>
<dd><p>Computes the net nitrogen imports for plant sectors.</p>
<p>Calculated as the difference between total nitrogen imports and plant sector availability after local uses (feed and food).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Net nitrogen import for plant-based products (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.oleaginous_production">
<span class="sig-name descname"><span class="pre">oleaginous_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.oleaginous_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.oleaginous_production" title="Link to this definition">#</a></dt>
<dd><p>Returns the nitrogen production from oleaginous crops.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen from oleaginous (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.oleaginous_production_r">
<span class="sig-name descname"><span class="pre">oleaginous_production_r</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.oleaginous_production_r"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.oleaginous_production_r" title="Link to this definition">#</a></dt>
<dd><p>Returns the share of nitrogen production from oleaginous relative to total plant production.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Percentage of total plant nitrogen production from oleaginous.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.plot_heatmap">
<span class="sig-name descname"><span class="pre">plot_heatmap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.plot_heatmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.plot_heatmap" title="Link to this definition">#</a></dt>
<dd><p>Generates a static heatmap to visualize the nitrogen flux transition matrix.</p>
<p>The heatmap displays the nitrogen fluxes between sectors using a logarithmic color scale. It provides a visual representation
of the relative magnitudes of nitrogen fluxes, where each cell in the matrix corresponds to a transition from one sector
(source) to another (target).</p>
<p>Features of the heatmap:
- <strong>Logarithmic scale</strong> for better visualization of fluxes with wide value ranges (<cite>LogNorm</cite> is used with <cite>vmin=10^-4</cite> and <cite>vmax</cite> set to the maximum value in the adjacency matrix).
- <strong>Color palette</strong> is reversed “plasma” (<cite>plasma_r</cite>), with the color bar indicating flux magnitudes in kton/year.
- <strong>Grid</strong>: A light gray grid is added for visual separation of cells.
- <strong>Labels</strong>: Axis labels are moved to the top of the heatmap, with tick labels rotated for better readability.
- <strong>Legend</strong>: Each sector is labeled with its corresponding index (e.g., “1: Agriculture”), positioned next to the heatmap.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>None</p>
</dd>
<dt>Returns:</dt><dd><p>None: Displays the heatmap plot on screen.</p>
</dd>
<dt>Note:</dt><dd><p>This method uses <cite>matplotlib</cite> and <cite>seaborn</cite> for visualization. Make sure these libraries are installed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.plot_heatmap_interactive">
<span class="sig-name descname"><span class="pre">plot_heatmap_interactive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.plot_heatmap_interactive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.plot_heatmap_interactive" title="Link to this definition">#</a></dt>
<dd><p>Generates an interactive heatmap using Plotly to visualize the nitrogen flux transition matrix.</p>
<p>The heatmap has the following features:
- Logarithmic scale (simulated via log10(z)) to handle wide-ranging values.
- A horizontal colorbar placed at the bottom of the plot.
- A legend that maps matrix indices to sector labels, positioned on the right, ensuring no overlap.
- The X-axis is displayed at the top of the plot, and the title is centered above the plot.</p>
<p>This visualization helps to understand the relative magnitudes of the nitrogen fluxes between sectors
in a clear and interactive manner.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>plotly.graph_objects.Figure: An interactive Plotly figure containing the heatmap.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.primXsec">
<span class="sig-name descname"><span class="pre">primXsec</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.primXsec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.primXsec" title="Link to this definition">#</a></dt>
<dd><p>Calculates the percentage of nitrogen from secondary sources (biological or recycled),
compared to the total nitrogen inputs.</p>
<p>Secondary sources include: human excretion, animal excretion, atmospheric inputs, seeds, and leguminous fixation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Share of secondary sources in total nitrogen inputs (%).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.rel_fert">
<span class="sig-name descname"><span class="pre">rel_fert</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.rel_fert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.rel_fert" title="Link to this definition">#</a></dt>
<dd><p>Computes the relative share (%) of each nitrogen input source.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas Series with nitrogen input sources as percentage of the total.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.roots_production">
<span class="sig-name descname"><span class="pre">roots_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.roots_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.roots_production" title="Link to this definition">#</a></dt>
<dd><p>Returns the nitrogen production from roots crops.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen from roots (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.roots_production_r">
<span class="sig-name descname"><span class="pre">roots_production_r</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.roots_production_r"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.roots_production_r" title="Link to this definition">#</a></dt>
<dd><p>Returns the share of nitrogen production from roots relative to total plant production.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Percentage of total plant nitrogen production from roots.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.stacked_plant_production">
<span class="sig-name descname"><span class="pre">stacked_plant_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.stacked_plant_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.stacked_plant_production" title="Link to this definition">#</a></dt>
<dd><p>Returns the vector of nitrogen production by crop category.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas Series of nitrogen production per crop.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.surfaces">
<span class="sig-name descname"><span class="pre">surfaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.surfaces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.surfaces" title="Link to this definition">#</a></dt>
<dd><p>Returns the cultivated area per crop.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas Series with area per crop (in hectares).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.surfaces_tot">
<span class="sig-name descname"><span class="pre">surfaces_tot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.surfaces_tot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.surfaces_tot" title="Link to this definition">#</a></dt>
<dd><p>Returns the total cultivated area in the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total area (in hectares).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.tot_fert">
<span class="sig-name descname"><span class="pre">tot_fert</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.tot_fert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.tot_fert" title="Link to this definition">#</a></dt>
<dd><p>Computes total nitrogen inputs to the system, broken down by origin.</p>
<p>Categories include animal and human excretion, atmospheric deposition, Haber-Bosch inputs, leguminous enrichment, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas Series of nitrogen inputs by source (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.N_class.NitrogenFlowModel.total_plant_production">
<span class="sig-name descname"><span class="pre">total_plant_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/N_class.html#NitrogenFlowModel.total_plant_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.N_class.NitrogenFlowModel.total_plant_production" title="Link to this definition">#</a></dt>
<dd><p>Computes the total nitrogen production from all crop categories.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen produced by crops (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-grafs_e.app">
<span id="grafs-e-app-module"></span><h2>grafs_e.app module<a class="headerlink" href="#module-grafs_e.app" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.add_color_legend">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">add_color_legend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">m</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#add_color_legend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.add_color_legend" title="Link to this definition">#</a></dt>
<dd><p>Ajoute une légende de la colormap à la carte.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.add_france_rectangle">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">add_france_rectangle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geojson_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#add_france_rectangle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.add_france_rectangle" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.create_image_map">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">create_image_map</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#create_image_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.create_image_map" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.create_map">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">create_map</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#create_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.create_map" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.create_map_with_metrics">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">create_map_with_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">geojson_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#create_map_with_metrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.create_map_with_metrics" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.excel_uploaded">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">excel_uploaded</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#excel_uploaded"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.excel_uploaded" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.generate_heatmap">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">generate_heatmap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#generate_heatmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.generate_heatmap" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.generate_scenario">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">generate_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#generate_scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.generate_scenario" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.get_metric_range">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">get_metric_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metrics</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#get_metric_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.get_metric_range" title="Link to this definition">#</a></dt>
<dd><p>Récupère les valeurs min et max de l’indicateur sélectionné.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.get_metrics_for_all_regions">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">get_metrics_for_all_regions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_models</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#get_metrics_for_all_regions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.get_metrics_for_all_regions" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.get_metrics_for_all_years">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">get_metrics_for_all_years</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_models</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#get_metrics_for_all_years"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.get_metrics_for_all_years" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.is_online">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">is_online</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#is_online"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.is_online" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.load_data">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#load_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.load_data" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.load_geojson">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">load_geojson</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#load_geojson"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.load_geojson" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.load_image">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">load_image</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#load_image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.load_image" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.load_pkl">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">load_pkl</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#load_pkl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.load_pkl" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.plot_standard_graph">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">plot_standard_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_models</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#plot_standard_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.plot_standard_graph" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.run_models_for_all_regions">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">run_models_for_all_regions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_data_loader</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#run_models_for_all_regions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.run_models_for_all_regions" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.run_models_for_all_years">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">run_models_for_all_years</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_data_loader</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#run_models_for_all_years"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.run_models_for_all_years" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.stacked_area_chart">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">stacked_area_chart</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_models</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#stacked_area_chart"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.stacked_area_chart" title="Link to this definition">#</a></dt>
<dd><p>Affiche un graphique en courbes empilées pour l’évolution des surfaces cultivées
avec une légende par catégorie et un hover individuel par culture.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.app.weighted_mean">
<span class="sig-prename descclassname"><span class="pre">grafs_e.app.</span></span><span class="sig-name descname"><span class="pre">weighted_mean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metrics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/app.html#weighted_mean"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.app.weighted_mean" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</section>
<section id="module-grafs_e.donnees">
<span id="grafs-e-donnees-module"></span><h2>grafs_e.donnees module<a class="headerlink" href="#module-grafs_e.donnees" title="Link to this heading">#</a></h2>
</section>
<section id="module-grafs_e.graphes_objet">
<span id="grafs-e-graphes-objet-module"></span><h2>grafs_e.graphes_objet module<a class="headerlink" href="#module-grafs_e.graphes_objet" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">grafs_e.graphes_objet.</span></span><span class="sig-name descname"><span class="pre">GraphAnalyzer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.calculate_Ceff">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calculate_Ceff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.calculate_Ceff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.calculate_Ceff" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.calculate_Feff">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calculate_Feff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.calculate_Feff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.calculate_Feff" title="Link to this definition">#</a></dt>
<dd><p>Calcule F à partir d’une matrice NumPy ou d’un graphe NetworkX.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.calculate_Neff">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calculate_Neff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.calculate_Neff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.calculate_Neff" title="Link to this definition">#</a></dt>
<dd><p>Calcule N = C.F à partir d’une matrice NumPy ou d’un graphe NetworkX.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.calculate_Reff">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calculate_Reff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.calculate_Reff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.calculate_Reff" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.calculer_et_tracer_distribution_distances">
<span class="sig-name descname"><span class="pre">calculer_et_tracer_distribution_distances</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nb_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">titre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Distribution</span> <span class="pre">des</span> <span class="pre">distances</span> <span class="pre">entre</span> <span class="pre">les</span> <span class="pre">nœuds'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sauvegarder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nom_fichier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'histogramme_distances.png'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.calculer_et_tracer_distribution_distances"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.calculer_et_tracer_distribution_distances" title="Link to this definition">#</a></dt>
<dd><p>Calcule les plus courts chemins entre toutes les paires de nœuds dans un graphe pondéré dirigé,
en utilisant la distance définie comme la somme des inverses des poids,
et trace un histogramme de la distribution des distances avec une échelle logarithmique sur l’axe des abscisses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nb_bins</strong> – Nombre de barres dans l’histogramme</p></li>
<li><p><strong>titre</strong> – Titre du graphique</p></li>
<li><p><strong>sauvegarder</strong> – Booléen pour indiquer si le graphique doit être sauvegardé</p></li>
<li><p><strong>nom_fichier</strong> – Nom du fichier pour la sauvegarde du graphique</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.calculer_et_tracer_distribution_distances_V2">
<span class="sig-name descname"><span class="pre">calculer_et_tracer_distribution_distances_V2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nb_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">titre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Distribution</span> <span class="pre">des</span> <span class="pre">distances</span> <span class="pre">entre</span> <span class="pre">les</span> <span class="pre">nœuds'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sauvegarder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nom_fichier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'histogramme_distances.png'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.calculer_et_tracer_distribution_distances_V2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.calculer_et_tracer_distribution_distances_V2" title="Link to this definition">#</a></dt>
<dd><p>Calcule les plus courts chemins en excluant les chemins passant par des nœuds intermédiaires spécifiques,
puis trace l’histogramme des longueurs des plus courts chemins.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nb_bins</strong> – Nombre de barres dans l’histogramme</p></li>
<li><p><strong>titre</strong> – Titre du graphique</p></li>
<li><p><strong>sauvegarder</strong> – Booléen indiquant si le graphique doit être sauvegardé</p></li>
<li><p><strong>nom_fichier</strong> – Nom du fichier pour la sauvegarde du graphique</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Longueur moyenne des chemins</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.calculer_longueur_moyenne_chemins">
<span class="sig-name descname"><span class="pre">calculer_longueur_moyenne_chemins</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.calculer_longueur_moyenne_chemins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.calculer_longueur_moyenne_chemins" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.dijkstra_exclusion">
<span class="sig-name descname"><span class="pre">dijkstra_exclusion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'weight'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_nodes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.dijkstra_exclusion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.dijkstra_exclusion" title="Link to this definition">#</a></dt>
<dd><p>Algorithme de Dijkstra personnalisé pour calculer les plus courts chemins dans un graphe,
en excluant les nœuds intermédiaires appartenant à ‘exclude_nodes’, tout en permettant que
les nœuds exclus soient utilisés comme nœud de départ ou nœud final.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> – Le nœud de départ à partir duquel les chemins doivent être calculés</p></li>
<li><p><strong>weight</strong> – Nom de l’attribut des arêtes représentant les poids (par défaut ‘weight’)</p></li>
<li><p><strong>exclude_nodes</strong> – Ensemble des nœuds à exclure en tant que nœuds intermédiaires</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>distances, paths
distances: dictionnaire {nœud: coût du plus court chemin depuis le nœud de départ}
paths: dictionnaire {nœud: liste représentant le chemin le plus court depuis le nœud de départ}</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.in_centrality">
<span class="sig-name descname"><span class="pre">in_centrality</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.in_centrality"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.in_centrality" title="Link to this definition">#</a></dt>
<dd><p>Calcule la centralité d’entrée pondérée (somme des poids entrants) pour chaque nœud du graphe.
:return: Dictionnaire {nœud: centralité d’entrée pondérée}</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.obtenir_n_plus_courts_chemins">
<span class="sig-name descname"><span class="pre">obtenir_n_plus_courts_chemins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.obtenir_n_plus_courts_chemins"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.obtenir_n_plus_courts_chemins" title="Link to this definition">#</a></dt>
<dd><p>Obtenir les ‘n’ plus courts chemins dans tout le graphe en appliquant l’algorithme dijkstra_exclusion,
c’est-à-dire en excluant certains nœuds comme nœuds intermédiaires.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>G</strong> – Graphe NetworkX avec un attribut ‘weight’ pour les arêtes</p></li>
<li><p><strong>n</strong> – Nombre total de chemins à retourner</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Liste des ‘n’ plus courts chemins [(source, cible, coût, chemin)]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.out_centrality">
<span class="sig-name descname"><span class="pre">out_centrality</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.out_centrality"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.out_centrality" title="Link to this definition">#</a></dt>
<dd><p>Calcule la centralité de sortie pondérée (somme des poids sortants) pour chaque nœud du graphe.
:return: Dictionnaire {nœud: centralité de sortie pondérée}</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.plot_degree_distribution_power_law">
<span class="sig-name descname"><span class="pre">plot_degree_distribution_power_law</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.plot_degree_distribution_power_law"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.plot_degree_distribution_power_law" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.plot_flux_distribution_log">
<span class="sig-name descname"><span class="pre">plot_flux_distribution_log</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.plot_flux_distribution_log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.plot_flux_distribution_log" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.plot_flux_distribution_log_x">
<span class="sig-name descname"><span class="pre">plot_flux_distribution_log_x</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.plot_flux_distribution_log_x"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.plot_flux_distribution_log_x" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.plot_flux_distribution_semilog">
<span class="sig-name descname"><span class="pre">plot_flux_distribution_semilog</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.plot_flux_distribution_semilog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.plot_flux_distribution_semilog" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.plot_weight_probability_distribution">
<span class="sig-name descname"><span class="pre">plot_weight_probability_distribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">N_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">150</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.plot_weight_probability_distribution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.plot_weight_probability_distribution" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphAnalyzer.weighted_assortativity">
<span class="sig-name descname"><span class="pre">weighted_assortativity</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphAnalyzer.weighted_assortativity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphAnalyzer.weighted_assortativity" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphVisualizer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">grafs_e.graphes_objet.</span></span><span class="sig-name descname"><span class="pre">GraphVisualizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">G</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphVisualizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphVisualizer" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphVisualizer.afficher_chemins_graphiquement">
<span class="sig-name descname"><span class="pre">afficher_chemins_graphiquement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphVisualizer.afficher_chemins_graphiquement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphVisualizer.afficher_chemins_graphiquement" title="Link to this definition">#</a></dt>
<dd><p>Affiche graphiquement les chemins trouvés dans le graphe, en ajustant les arêtes pour qu’elles se terminent
à la périphérie des nœuds et non au centre. Utilise des labels avec un fond de la même couleur que les nœuds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> – Nombre total de plus courts chemins à afficher</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphVisualizer.afficher_chemins_graphiquement_sous_graph">
<span class="sig-name descname"><span class="pre">afficher_chemins_graphiquement_sous_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphVisualizer.afficher_chemins_graphiquement_sous_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphVisualizer.afficher_chemins_graphiquement_sous_graph" title="Link to this definition">#</a></dt>
<dd><p>Affiche graphiquement les chemins trouvés dans un graphe, en mettant en évidence uniquement les nœuds et les arêtes
impliqués dans les chemins sélectionnés, avec les noms des nœuds affichés plutôt que leurs numéros.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> – Nombre total de plus courts chemins à afficher</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphVisualizer.afficher_chemins_graphiquement_tot">
<span class="sig-name descname"><span class="pre">afficher_chemins_graphiquement_tot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphVisualizer.afficher_chemins_graphiquement_tot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphVisualizer.afficher_chemins_graphiquement_tot" title="Link to this definition">#</a></dt>
<dd><p>Affiche graphiquement les chemins trouvés dans le graphe, en mettant en évidence les nœuds et les arêtes
impliqués dans les chemins sélectionnés.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> – Nombre total de plus courts chemins à afficher</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphVisualizer.afficher_et_visualiser_10_noeuds_plus_proches">
<span class="sig-name descname"><span class="pre">afficher_et_visualiser_10_noeuds_plus_proches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">noeud_depart_label</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphVisualizer.afficher_et_visualiser_10_noeuds_plus_proches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphVisualizer.afficher_et_visualiser_10_noeuds_plus_proches" title="Link to this definition">#</a></dt>
<dd><p>Affiche les 10 nœuds les plus proches du nœud de départ, leur flux total,
et visualise le sous-graphe correspondant en excluant les nœuds intermédiaires spécifiés.
L’épaisseur des liens est proportionnelle au flux (avec échelle logarithmique).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>noeud_depart_label</strong> – Label du nœud de départ</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphVisualizer.afficher_et_visualiser_10_noeuds_plus_proches_2">
<span class="sig-name descname"><span class="pre">afficher_et_visualiser_10_noeuds_plus_proches_2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">noeud_depart_label</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphVisualizer.afficher_et_visualiser_10_noeuds_plus_proches_2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphVisualizer.afficher_et_visualiser_10_noeuds_plus_proches_2" title="Link to this definition">#</a></dt>
<dd><p>Affiche les 10 nœuds les plus proches du nœud de départ, leur flux total,
et visualise le sous-graphe correspondant en excluant les nœuds intermédiaires spécifiés.
L’épaisseur des liens est proportionnelle au flux (avec échelle logarithmique).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>noeud_depart_label</strong> – Label du nœud de départ</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphVisualizer.ajouter_retour_ligne_si_long">
<span class="sig-name descname"><span class="pre">ajouter_retour_ligne_si_long</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">longueur_max</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphVisualizer.ajouter_retour_ligne_si_long"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphVisualizer.ajouter_retour_ligne_si_long" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphVisualizer.color_nodes">
<span class="sig-name descname"><span class="pre">color_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cultures</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legumineuses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prairies</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">betail</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Pop</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphVisualizer.color_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphVisualizer.color_nodes" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphVisualizer.draw_curved_edges">
<span class="sig-name descname"><span class="pre">draw_curved_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'white'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphVisualizer.draw_curved_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphVisualizer.draw_curved_edges" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphVisualizer.draw_curved_edges_fancy">
<span class="sig-name descname"><span class="pre">draw_curved_edges_fancy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphVisualizer.draw_curved_edges_fancy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphVisualizer.draw_curved_edges_fancy" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphVisualizer.draw_curved_edges_log">
<span class="sig-name descname"><span class="pre">draw_curved_edges_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'white'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphVisualizer.draw_curved_edges_log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphVisualizer.draw_curved_edges_log" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphVisualizer.draw_custom_networkx_edges">
<span class="sig-name descname"><span class="pre">draw_custom_networkx_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subgraph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edgelist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'blue'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arrows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arrowstyle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'-&gt;'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arrowsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphVisualizer.draw_custom_networkx_edges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphVisualizer.draw_custom_networkx_edges" title="Link to this definition">#</a></dt>
<dd><p>Dessine des arêtes avec des flèches ajustées pour qu’elles se terminent à la périphérie des nœuds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subgraph</strong> – Le sous-graphe NetworkX</p></li>
<li><p><strong>pos</strong> – Positions des nœuds calculées par un layout (ex: nx.spring_layout)</p></li>
<li><p><strong>edgelist</strong> – Liste des arêtes à dessiner (par défaut, toutes les arêtes du sous-graphe)</p></li>
<li><p><strong>width</strong> – Largeur des arêtes (peut être une liste correspondant à chaque arête)</p></li>
<li><p><strong>edge_color</strong> – Couleur des arêtes</p></li>
<li><p><strong>arrows</strong> – Afficher des flèches ou non</p></li>
<li><p><strong>arrowstyle</strong> – Style des flèches (‘-&gt;’, ‘-<a href="#id1"><span class="problematic" id="id2">|</span></a>&gt;’, etc.)</p></li>
<li><p><strong>arrowsize</strong> – Taille des flèches</p></li>
<li><p><strong>node_size</strong> – Taille des nœuds pour ajuster les points de début et de fin des arêtes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphVisualizer.draw_hexagonal_graph">
<span class="sig-name descname"><span class="pre">draw_hexagonal_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_property</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphVisualizer.draw_hexagonal_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphVisualizer.draw_hexagonal_graph" title="Link to this definition">#</a></dt>
<dd><p>Dessine un graphe avec un layout hexagonal et une échelle logarithmique dynamique,
en tenant compte d’un ordre fixe des nœuds spécifié par node_labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_property</strong> – Propriété scalaire des nœuds (dict) à représenter avec une échelle logarithmique pour la taille des nœuds</p></li>
<li><p><strong>year</strong> – L’année à afficher en haut à gauche de l’image</p></li>
<li><p><strong>node_labels</strong> – Liste des labels des nœuds pour fixer leur ordre (par défaut, tous les labels)</p></li>
<li><p><strong>scale</strong> – Échelle du layout hexagonal</p></li>
<li><p><strong>filename</strong> – Nom du fichier si vous souhaitez sauvegarder l’image</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphVisualizer.draw_nodes_with_patches">
<span class="sig-name descname"><span class="pre">draw_nodes_with_patches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphVisualizer.draw_nodes_with_patches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphVisualizer.draw_nodes_with_patches" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphVisualizer.plot_graph_base">
<span class="sig-name descname"><span class="pre">plot_graph_base</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphVisualizer.plot_graph_base"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphVisualizer.plot_graph_base" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.GraphVisualizer.regroup_nodes_layout">
<span class="sig-name descname"><span class="pre">regroup_nodes_layout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_colors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_colors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ecart</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#GraphVisualizer.regroup_nodes_layout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.GraphVisualizer.regroup_nodes_layout" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.Graphs_maker">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">grafs_e.graphes_objet.</span></span><span class="sig-name descname"><span class="pre">Graphs_maker</span></span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#Graphs_maker"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.Graphs_maker" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.Graphs_maker.get_graph">
<span class="sig-name descname"><span class="pre">get_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut_isolated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#Graphs_maker.get_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.Graphs_maker.get_graph" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.graphes_objet.Graphs_maker.get_matrix">
<span class="sig-name descname"><span class="pre">get_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/graphes_objet.html#Graphs_maker.get_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.graphes_objet.Graphs_maker.get_matrix" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-grafs_e.launch">
<span id="grafs-e-launch-module"></span><h2>grafs_e.launch module<a class="headerlink" href="#module-grafs_e.launch" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.launch.run">
<span class="sig-prename descclassname"><span class="pre">grafs_e.launch.</span></span><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/launch.html#run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.launch.run" title="Link to this definition">#</a></dt>
<dd><p>Script used by the ‘grafs-e’ command to launch the graphical interface.</p>
<dl class="simple">
<dt>This function is executed when the user runs the <cite>grafs-e</cite> command. It:</dt><dd><ul class="simple">
<li><p>Finds the path of the <cite>grafs_e</cite> package,</p></li>
<li><p>Constructs the full path to the <cite>app.py</cite> script (Streamlit app),</p></li>
<li><p>Simulates the execution of the Streamlit CLI command to start the app (<cite>streamlit run app.py</cite>),</p></li>
<li><p>Launches the Streamlit server using <cite>streamlit.web.cli.main()</cite>.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-grafs_e.prospective">
<span id="grafs-e-prospective-module"></span><h2>grafs_e.prospective module<a class="headerlink" href="#module-grafs_e.prospective" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="grafs_e.prospective.CultureData_prospect">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">grafs_e.prospective.</span></span><span class="sig-name descname"><span class="pre">CultureData_prospect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">main</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">area</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">categories_mapping</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_prod</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#CultureData_prospect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.CultureData_prospect" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Prepare and structure crop data required for prospective scenarios in the NitrogenFlowModel.</p>
<p>This class constructs a DataFrame (<cite>df_cultures</cite>) that includes area, fertilization spread ratio,
nitrogen content, and yield function parameters (depending on the selected model).</p>
<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.CultureData_prospect.create_culture_dataframe">
<span class="sig-name descname"><span class="pre">create_culture_dataframe</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#CultureData_prospect.create_culture_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.CultureData_prospect.create_culture_dataframe" title="Link to this definition">#</a></dt>
<dd><p>Construct the <cite>df_cultures</cite> DataFrame combining area, fertilization spreading ratio,
nitrogen content, and yield function parameters for each crop.</p>
<p>The structure and included parameters depend on the selected yield function model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas DataFrame with all necessary parameters for crop modeling.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="grafs_e.prospective.ElevageData_prospect">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">grafs_e.prospective.</span></span><span class="sig-name descname"><span class="pre">ElevageData_prospect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">main</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">technical</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#ElevageData_prospect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.ElevageData_prospect" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Prepare and structure livestock data required for prospective scenarios in the NitrogenFlowModel.</p>
<p>This class aggregates technical coefficients and main livestock statistics to compute nitrogen flows,
production outputs, and excretion routes by species.</p>
<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.ElevageData_prospect.create_elevage_dataframe">
<span class="sig-name descname"><span class="pre">create_elevage_dataframe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">main</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">technical</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#ElevageData_prospect.create_elevage_dataframe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.ElevageData_prospect.create_elevage_dataframe" title="Link to this definition">#</a></dt>
<dd><p>Construct the <cite>df_elevage</cite> DataFrame containing:
- livestock units (LU) per species
- productivity indicators (carcass and dairy)
- excretion distributions
- volatilisation rates
- ingestion and nitrogen partitioning (edible, non-edible, excreted)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>main</strong> (<em>pd.DataFrame</em>) – General livestock statistics.</p></li>
<li><p><strong>technical</strong> (<em>pd.DataFrame</em>) – Technical coefficients for livestock management.</p></li>
<li><p><strong>data_path</strong> (<em>str</em>) – Path to nitrogen content Excel file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A pandas DataFrame with livestock nitrogen and productivity balances.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">grafs_e.prospective.</span></span><span class="sig-name descname"><span class="pre">NitrogenFlowModel_prospect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenar_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Prospective extension of the NitrogenFlowModel for forward-looking nitrogen flow simulations.</p>
<p>This class initializes and manages all components required for scenario-based nitrogen budgeting.
It uses scenario-specific sheets for inputs (land use, livestock, technical parameters), and
dynamically computes nitrogen fluxes between labeled system compartments using an adjacency matrix.</p>
<dl class="simple">
<dt>Attributes:</dt><dd><p>scenar_path (str): Path to the Excel file containing scenario sheets.
labels (list): List of nitrogen system compartments used to label the adjacency matrix.
df_cultures (pd.DataFrame): Crop-related nitrogen flows and parameters.
df_elevage (pd.DataFrame): Livestock-related nitrogen flows and parameters.
adjacency_matrix (np.ndarray): Matrix of nitrogen fluxes between compartments (in ktN/year).
label_to_index (dict): Mapping from compartment labels to matrix indices.
year (int): Scenario year (extracted from metadata).
region (str): Scenario region (extracted from metadata).</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.C_eff">
<span class="sig-name descname"><span class="pre">C_eff</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.C_eff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.C_eff" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.F_eff">
<span class="sig-name descname"><span class="pre">F_eff</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.F_eff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.F_eff" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.Ftot">
<span class="sig-name descname"><span class="pre">Ftot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.Ftot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.Ftot" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.LU_density">
<span class="sig-name descname"><span class="pre">LU_density</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.LU_density"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.LU_density" title="Link to this definition">#</a></dt>
<dd><p>Calculates the livestock unit density over the agricultural area.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Livestock unit per hectare (LU/ha).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.N2O_em">
<span class="sig-name descname"><span class="pre">N2O_em</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.N2O_em"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.N2O_em" title="Link to this definition">#</a></dt>
<dd><p>Returns the total N₂O emissions in the system.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>N₂O emissions in kt.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.NH3_vol">
<span class="sig-name descname"><span class="pre">NH3_vol</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.NH3_vol"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.NH3_vol" title="Link to this definition">#</a></dt>
<dd><p>Returns the total NH₃ volatilization in the system.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>NH₃ emissions in kt.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.NUE">
<span class="sig-name descname"><span class="pre">NUE</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.NUE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.NUE" title="Link to this definition">#</a></dt>
<dd><p>Calculates the crop-level nitrogen use efficiency (NUE).</p>
<p>Defined as the ratio of nitrogen produced by crops over total nitrogen inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>NUE of crop systems (%).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.NUE_system">
<span class="sig-name descname"><span class="pre">NUE_system</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.NUE_system"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.NUE_system" title="Link to this definition">#</a></dt>
<dd><p>Calculates system-wide nitrogen use efficiency, including crop and livestock production.</p>
<p>Accounts for feed losses and nitrogen consumed via imported feed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>System-wide NUE (%).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.NUE_system_2">
<span class="sig-name descname"><span class="pre">NUE_system_2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.NUE_system_2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.NUE_system_2" title="Link to this definition">#</a></dt>
<dd><p>Alternative NUE computation considering livestock conversion factors and feed inputs.</p>
<p>Includes non-edible nitrogen outputs and imported feed consumption in the calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Adjusted system-wide NUE (%).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.N_eff">
<span class="sig-name descname"><span class="pre">N_eff</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.N_eff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.N_eff" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.N_self_sufficient">
<span class="sig-name descname"><span class="pre">N_self_sufficient</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.N_self_sufficient"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.N_self_sufficient" title="Link to this definition">#</a></dt>
<dd><p>Estimates nitrogen self-sufficiency of the system.</p>
<p>Defined as the share of atmospheric (biological) nitrogen inputs relative to all external nitrogen sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Self-sufficiency ratio (%).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.R_eff">
<span class="sig-name descname"><span class="pre">R_eff</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.R_eff"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.R_eff" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.Y">
<span class="sig-name descname"><span class="pre">Y</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.Y"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.Y" title="Link to this definition">#</a></dt>
<dd><p>Computes the nitrogen yield of a given crop.</p>
<p>Yield is calculated as nitrogen production (kgN) per hectare for the specified crop.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>culture</strong> (<em>str</em>) – The name of the crop (index of <cite>df_cultures</cite>).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Nitrogen yield in kgN/ha.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.animal_production">
<span class="sig-name descname"><span class="pre">animal_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.animal_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.animal_production" title="Link to this definition">#</a></dt>
<dd><p>Returns the total edible nitrogen produced by livestock sectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen in edible animal products (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.cereals_production">
<span class="sig-name descname"><span class="pre">cereals_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.cereals_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.cereals_production" title="Link to this definition">#</a></dt>
<dd><p>Returns the nitrogen production from cereal crops.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen from cereals (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.cereals_production_r">
<span class="sig-name descname"><span class="pre">cereals_production_r</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.cereals_production_r"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.cereals_production_r" title="Link to this definition">#</a></dt>
<dd><p>Returns the share of nitrogen production from cereals relative to total plant production.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Percentage of total plant nitrogen production from cereals.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.compute_fluxes">
<span class="sig-name descname"><span class="pre">compute_fluxes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.compute_fluxes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.compute_fluxes" title="Link to this definition">#</a></dt>
<dd><p>Compute nitrogen flows across all compartments for the given scenario.</p>
<dl class="simple">
<dt>This method:</dt><dd><ul class="simple">
<li><p>Retrieves key scenario inputs (year, region, crop and livestock data).</p></li>
<li><p>Initializes the flux generator using crop and livestock data.</p></li>
<li><p>Updates the adjacency matrix accordingly.</p></li>
</ul>
</dd>
</dl>
<p>Must be called during initialization to populate model outputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.emissions">
<span class="sig-name descname"><span class="pre">emissions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.emissions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.emissions" title="Link to this definition">#</a></dt>
<dd><p>Computes the total nitrogen emissions from the system.</p>
<p>Includes N₂O emissions, atmospheric N₂ release, and NH₃ volatilization, with unit conversions.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas Series with nitrogen emission quantities.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.env_footprint">
<span class="sig-name descname"><span class="pre">env_footprint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.env_footprint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.env_footprint" title="Link to this definition">#</a></dt>
<dd><p>Calculates the land footprint (in ha) of nitrogen flows linked to:
- local food and feed production,
- imported food and feed,
- imported and exported livestock nitrogen,
- crop exports for feed and food.</p>
<p>This is expressed as theoretical land areas mobilized by the nitrogen content.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas Series of land footprint values (in ha), positive for imports and local use, negative for exports.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.extract_input_output_matrixs">
<span class="sig-name descname"><span class="pre">extract_input_output_matrixs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.extract_input_output_matrixs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.extract_input_output_matrixs" title="Link to this definition">#</a></dt>
<dd><p>Extracts input and output matrices (C and B blocks) from the full transition matrix.</p>
<p>These matrices represent the nitrogen flows between core and external sectors:
- B: Outputs from core to external sectors.
- C: Inputs from external to core sectors.</p>
<p>If <cite>clean</cite> is True, the method removes rows and columns corresponding to inactive sectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>clean</strong> (<em>bool</em>) – Whether to remove zero-flow sectors from the matrices.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple (B, C) of NumPy arrays.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[numpy.ndarray, numpy.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.fruits_and_vegetable_production">
<span class="sig-name descname"><span class="pre">fruits_and_vegetable_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.fruits_and_vegetable_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.fruits_and_vegetable_production" title="Link to this definition">#</a></dt>
<dd><p>Returns the nitrogen production from fruits and vegetables crops.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen from fruits and vegetables (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.fruits_and_vegetable_production_r">
<span class="sig-name descname"><span class="pre">fruits_and_vegetable_production_r</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.fruits_and_vegetable_production_r"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.fruits_and_vegetable_production_r" title="Link to this definition">#</a></dt>
<dd><p>Returns the share of nitrogen production from fruits and vegetables relative to total plant production.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Percentage of total plant nitrogen production from fruits and vegetables.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.get_adjacency_matrix">
<span class="sig-name descname"><span class="pre">get_adjacency_matrix</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.get_adjacency_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.get_adjacency_matrix" title="Link to this definition">#</a></dt>
<dd><p>Returns the binary adjacency matrix of nitrogen fluxes.</p>
<p>This matrix has the same dimensions as the core matrix and indicates the presence
(1) or absence (0) of nitrogen fluxes between sectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A binary adjacency matrix.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.get_core_matrix">
<span class="sig-name descname"><span class="pre">get_core_matrix</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.get_core_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.get_core_matrix" title="Link to this definition">#</a></dt>
<dd><p>Extracts and returns the core matrix of nitrogen fluxes between active sectors.</p>
<p>This method filters out rows and columns with no flows and excludes external sectors.
The result isolates the central dynamics of the system.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A 2D NumPy array of the filtered core matrix.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.get_df_culture">
<span class="sig-name descname"><span class="pre">get_df_culture</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.get_df_culture"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.get_df_culture" title="Link to this definition">#</a></dt>
<dd><p>Returns the DataFrame containing crop-related data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas DataFrame with crop data used in the nitrogen model.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.get_df_elevage">
<span class="sig-name descname"><span class="pre">get_df_elevage</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.get_df_elevage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.get_df_elevage" title="Link to this definition">#</a></dt>
<dd><p>Returns the DataFrame containing livestock-related data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas DataFrame with livestock data used in the nitrogen model.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.get_transition_matrix">
<span class="sig-name descname"><span class="pre">get_transition_matrix</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.get_transition_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.get_transition_matrix" title="Link to this definition">#</a></dt>
<dd><p>Returns the full nitrogen transition matrix.</p>
<p>This matrix represents all nitrogen fluxes between sectors, including core and external processes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A 2D NumPy array representing nitrogen fluxes between all sectors.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.grassland_and_forages_production">
<span class="sig-name descname"><span class="pre">grassland_and_forages_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.grassland_and_forages_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.grassland_and_forages_production" title="Link to this definition">#</a></dt>
<dd><p>Returns the nitrogen production from grassland and forages crops.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen from grassland and forages (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.grassland_and_forages_production_r">
<span class="sig-name descname"><span class="pre">grassland_and_forages_production_r</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.grassland_and_forages_production_r"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.grassland_and_forages_production_r" title="Link to this definition">#</a></dt>
<dd><p>Returns the share of nitrogen production from forages relative to total plant production.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Percentage of total plant nitrogen production from forages.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.imported_nitrogen">
<span class="sig-name descname"><span class="pre">imported_nitrogen</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.imported_nitrogen"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.imported_nitrogen" title="Link to this definition">#</a></dt>
<dd><p>Calculates the total amount of nitrogen imported into the system.</p>
<p>Includes nitrogen in imported food, feed, and excess feed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total imported nitrogen (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.leguminous_production">
<span class="sig-name descname"><span class="pre">leguminous_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.leguminous_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.leguminous_production" title="Link to this definition">#</a></dt>
<dd><p>Returns the nitrogen production from leguminous crops.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen from leguminous (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.leguminous_production_r">
<span class="sig-name descname"><span class="pre">leguminous_production_r</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.leguminous_production_r"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.leguminous_production_r" title="Link to this definition">#</a></dt>
<dd><p>Returns the share of nitrogen production from leguminous relative to total plant production.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Percentage of total plant nitrogen production from leguminous.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.net_footprint">
<span class="sig-name descname"><span class="pre">net_footprint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.net_footprint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.net_footprint" title="Link to this definition">#</a></dt>
<dd><p>Computes the net nitrogen land footprint of the region (in Mha).</p>
<p>Aggregates all imports and exports to yield a net balance of nitrogen-dependent land use.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Net land footprint (in million hectares).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.net_imported_animal">
<span class="sig-name descname"><span class="pre">net_imported_animal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.net_imported_animal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.net_imported_animal" title="Link to this definition">#</a></dt>
<dd><p>Returns the net nitrogen export for animal sectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen exported via animal products (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.net_imported_plant">
<span class="sig-name descname"><span class="pre">net_imported_plant</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.net_imported_plant"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.net_imported_plant" title="Link to this definition">#</a></dt>
<dd><p>Computes the net nitrogen imports for plant sectors.</p>
<p>Calculated as the difference between total nitrogen imports and plant sector availability after local uses (feed and food).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Net nitrogen import for plant-based products (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.oleaginous_production">
<span class="sig-name descname"><span class="pre">oleaginous_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.oleaginous_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.oleaginous_production" title="Link to this definition">#</a></dt>
<dd><p>Returns the nitrogen production from oleaginous crops.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen from oleaginous (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.oleaginous_production_r">
<span class="sig-name descname"><span class="pre">oleaginous_production_r</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.oleaginous_production_r"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.oleaginous_production_r" title="Link to this definition">#</a></dt>
<dd><p>Returns the share of nitrogen production from oleaginous relative to total plant production.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Percentage of total plant nitrogen production from oleaginous.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.plot_heatmap">
<span class="sig-name descname"><span class="pre">plot_heatmap</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.plot_heatmap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.plot_heatmap" title="Link to this definition">#</a></dt>
<dd><p>Plot a static heatmap of the nitrogen flux adjacency matrix.</p>
<p>The heatmap displays nitrogen transfers (in ktN/year) between system compartments, on a log scale.
Axes are labeled with numerical indices, and a legend maps these indices to compartment names.</p>
<dl class="simple">
<dt>Features:</dt><dd><ul class="simple">
<li><p>Log-normalized color scale (“plasma_r”).</p></li>
<li><p>Axis ticks on top (X) and left (Y).</p></li>
<li><p>Custom colorbar and visual grid.</p></li>
<li><p>Aspect ratio constrained to “equal” for readability.</p></li>
<li><p>Compartment label legend placed on the right.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.plot_heatmap_interactive">
<span class="sig-name descname"><span class="pre">plot_heatmap_interactive</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.plot_heatmap_interactive"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.plot_heatmap_interactive" title="Link to this definition">#</a></dt>
<dd><p>Generate an interactive Plotly heatmap of the nitrogen flux adjacency matrix.</p>
<p>This interactive version allows detailed inspection of each flux with tooltip information,
uses a log10 transformation for the color scale, and supports hover interactivity and zooming.</p>
<dl class="simple">
<dt>Features:</dt><dd><ul class="simple">
<li><p>Simulated log-scale using log10.</p></li>
<li><p>Horizontal colorbar with real-world units (ktN/year).</p></li>
<li><p>Tooltip shows source, target, and value.</p></li>
<li><p>Index-to-label legend annotated on the right.</p></li>
<li><p>Matrix layout with reversed Y axis and axis ticks from 1 to N.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Plotly Figure object (can be shown with <cite>fig.show()</cite>).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>plotly.graph_objs.Figure</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.primXsec">
<span class="sig-name descname"><span class="pre">primXsec</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.primXsec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.primXsec" title="Link to this definition">#</a></dt>
<dd><p>Calculates the percentage of nitrogen from secondary sources (biological or recycled),
compared to the total nitrogen inputs.</p>
<p>Secondary sources include: human excretion, animal excretion, atmospheric inputs, seeds, and leguminous fixation.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Share of secondary sources in total nitrogen inputs (%).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.rel_fert">
<span class="sig-name descname"><span class="pre">rel_fert</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.rel_fert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.rel_fert" title="Link to this definition">#</a></dt>
<dd><p>Computes the relative share (%) of each nitrogen input source.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas Series with nitrogen input sources as percentage of the total.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.roots_production">
<span class="sig-name descname"><span class="pre">roots_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.roots_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.roots_production" title="Link to this definition">#</a></dt>
<dd><p>Returns the nitrogen production from roots crops.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen from roots (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.roots_production_r">
<span class="sig-name descname"><span class="pre">roots_production_r</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.roots_production_r"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.roots_production_r" title="Link to this definition">#</a></dt>
<dd><p>Returns the share of nitrogen production from roots relative to total plant production.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Percentage of total plant nitrogen production from roots.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.stacked_plant_production">
<span class="sig-name descname"><span class="pre">stacked_plant_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.stacked_plant_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.stacked_plant_production" title="Link to this definition">#</a></dt>
<dd><p>Returns the vector of nitrogen production by crop category.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas Series of nitrogen production per crop.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.surfaces">
<span class="sig-name descname"><span class="pre">surfaces</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.surfaces"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.surfaces" title="Link to this definition">#</a></dt>
<dd><p>Returns the cultivated area per crop.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas Series with area per crop (in hectares).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.surfaces_tot">
<span class="sig-name descname"><span class="pre">surfaces_tot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.surfaces_tot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.surfaces_tot" title="Link to this definition">#</a></dt>
<dd><p>Returns the total cultivated area in the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total area (in hectares).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.tot_fert">
<span class="sig-name descname"><span class="pre">tot_fert</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.tot_fert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.tot_fert" title="Link to this definition">#</a></dt>
<dd><p>Computes total nitrogen inputs to the system, broken down by origin.</p>
<p>Categories include animal and human excretion, atmospheric deposition, Haber-Bosch inputs, leguminous enrichment, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas Series of nitrogen inputs by source (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.NitrogenFlowModel_prospect.total_plant_production">
<span class="sig-name descname"><span class="pre">total_plant_production</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#NitrogenFlowModel_prospect.total_plant_production"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.NitrogenFlowModel_prospect.total_plant_production" title="Link to this definition">#</a></dt>
<dd><p>Computes the total nitrogen production from all crop categories.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Total nitrogen produced by crops (in ktN).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="grafs_e.prospective.Y">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">grafs_e.prospective.</span></span><span class="sig-name descname"><span class="pre">Y</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataloader</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for modeling and fitting nitrogen yield response curves based on historical data.</p>
<p>This class extracts yield and fertilization data from NitrogenFlowModel instances,
and provides a suite of theoretical models (e.g., Mitscherlich, exponential, linear) to fit production curves.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dataloader</strong> (<a class="reference internal" href="docs/source/temps/grafs_e.html#grafs_e.N_class.DataLoader" title="grafs_e.N_class.DataLoader"><em>DataLoader</em></a><em>, </em><em>optional</em>) – Optional instance of DataLoader to use. If None, a default one is initialized.</p>
</dd>
<dt class="field-even">Variables<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>dataloader</strong> (<a class="reference internal" href="docs/source/temps/grafs_e.html#grafs_e.N_class.DataLoader" title="grafs_e.N_class.DataLoader"><em>DataLoader</em></a>) – DataLoader instance used for retrieving regional crop data.</p></li>
<li><p><strong>int_yr</strong> (<em>list</em><em>[</em><em>int</em><em>]</em>) – List of integer years available in the dataset.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.Y_th">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Y_th</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_max</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.Y_th"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.Y_th" title="Link to this definition">#</a></dt>
<dd><p>Mitscherlich-type yield response: Y = f * y_max / (f + y_max)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>float</em><em> or </em><em>np.ndarray</em>) – Fertilization input (kgN/ha).</p></li>
<li><p><strong>y_max</strong> (<em>float</em>) – Maximum attainable yield (kgN/ha).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Estimated yield.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.Y_th_exp">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Y_th_exp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.Y_th_exp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.Y_th_exp" title="Link to this definition">#</a></dt>
<dd><p>Exponential growth model without cap.</p>
<dl class="simple">
<dt>Computes yield as:</dt><dd><p>Y(f) = y_max * (1 - exp(-f / k))</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>float</em><em> or </em><em>np.ndarray</em>) – Fertilization input (kgN/ha).</p></li>
<li><p><strong>y_max</strong> (<em>float</em>) – Maximum yield asymptote (kgN/ha).</p></li>
<li><p><strong>k</strong> (<em>float</em>) – Growth curvature parameter (kgN/ha).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Yield response Y(f).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.Y_th_exp_cap">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Y_th_exp_cap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_max</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.Y_th_exp_cap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.Y_th_exp_cap" title="Link to this definition">#</a></dt>
<dd><p>Exponential response with physical cap at 99% of fertilization.</p>
<dl class="simple">
<dt>Formula:</dt><dd><p>Y(f) = min(y_max * (1 - exp(-f / k)), 0.99 * f)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>float</em><em> or </em><em>np.ndarray</em>) – Fertilization input (kgN/ha).</p></li>
<li><p><strong>y_max</strong> (<em>float</em>) – Maximum yield asymptote (kgN/ha).</p></li>
<li><p><strong>k</strong> (<em>float</em>) – Growth curvature parameter (kgN/ha).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Capped yield response Y(f).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.Y_th_lin">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Y_th_lin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.Y_th_lin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.Y_th_lin" title="Link to this definition">#</a></dt>
<dd><p>Simple linear yield response with a saturation cap.</p>
<dl class="simple">
<dt>Formula:</dt><dd><p>Y(f) = min(a * f, b)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>float</em><em> or </em><em>np.ndarray</em>) – Fertilization input (kgN/ha).</p></li>
<li><p><strong>a</strong> (<em>float</em>) – Linear coefficient.</p></li>
<li><p><strong>b</strong> (<em>float</em>) – Maximum yield threshold.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Capped linear yield.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.Y_th_lin_2">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Y_th_lin_2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.Y_th_lin_2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.Y_th_lin_2" title="Link to this definition">#</a></dt>
<dd><p>Piecewise linear yield function with break at <cite>xb</cite>.</p>
<dl class="simple">
<dt>Formula:</dt><dd><ul class="simple">
<li><p>If f ≤ xb: Y = a * f</p></li>
<li><p>If f &gt; xb: Y = c * (f - xb) + xb * a</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>float</em><em> or </em><em>np.ndarray</em>) – Fertilization input (kgN/ha).</p></li>
<li><p><strong>a</strong> (<em>float</em>) – Initial slope before breakpoint.</p></li>
<li><p><strong>xb</strong> (<em>float</em>) – Breakpoint fertilization value.</p></li>
<li><p><strong>c</strong> (<em>float</em>) – Slope after breakpoint.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Yield response Y(f).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.Y_th_lin_2_smooth">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Y_th_lin_2_smooth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.Y_th_lin_2_smooth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.Y_th_lin_2_smooth" title="Link to this definition">#</a></dt>
<dd><p>Smooth piecewise linear function using logistic blending near the breakpoint.</p>
<dl class="simple">
<dt>Formula:</dt><dd><p>transition = 1 / (1 + exp(-s * (f - xb)))
Y(f) = (1 - transition) * a * f + transition * (c * (f - xb) + xb * a)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>float</em><em> or </em><em>np.ndarray</em>) – Fertilization input (kgN/ha).</p></li>
<li><p><strong>a</strong> (<em>float</em>) – Initial slope.</p></li>
<li><p><strong>xb</strong> (<em>float</em>) – Breakpoint.</p></li>
<li><p><strong>c</strong> (<em>float</em>) – Post-breakpoint slope.</p></li>
<li><p><strong>s</strong> (<em>float</em>) – Sharpness of transition (higher = sharper).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Smoothed yield response Y(f).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.Y_th_poly">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Y_th_poly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.Y_th_poly"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.Y_th_poly" title="Link to this definition">#</a></dt>
<dd><p>Second-order polynomial yield response.</p>
<dl class="simple">
<dt>Formula:</dt><dd><p>Y(f) = a * f² + b * f</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>float</em><em> or </em><em>np.ndarray</em>) – Fertilization input.</p></li>
<li><p><strong>a</strong> (<em>float</em>) – Quadratic coefficient.</p></li>
<li><p><strong>b</strong> (<em>float</em>) – Linear coefficient.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Polynomial yield response.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.Y_th_poly_cap">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Y_th_poly_cap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.Y_th_poly_cap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.Y_th_poly_cap" title="Link to this definition">#</a></dt>
<dd><p>Polynomial yield response capped at 99% of fertilization.</p>
<dl class="simple">
<dt>Formula:</dt><dd><p>Y(f) = min(a * f² + b * f, 0.99 * f)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>float</em><em> or </em><em>np.ndarray</em>) – Fertilization input.</p></li>
<li><p><strong>a</strong> (<em>float</em>) – Quadratic coefficient.</p></li>
<li><p><strong>b</strong> (<em>float</em>) – Linear coefficient.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Capped polynomial yield response.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.Y_th_sigmoid">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Y_th_sigmoid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ymax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.Y_th_sigmoid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.Y_th_sigmoid" title="Link to this definition">#</a></dt>
<dd><p>Sigmoidal yield response function.</p>
<dl class="simple">
<dt>Formula:</dt><dd><p>Y(f) = Ymax / (1 + exp(-k * (f - x0)))</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>float</em><em> or </em><em>np.ndarray</em>) – Fertilization input.</p></li>
<li><p><strong>Ymax</strong> (<em>float</em>) – Maximum yield.</p></li>
<li><p><strong>k</strong> (<em>float</em>) – Growth steepness.</p></li>
<li><p><strong>x0</strong> (<em>float</em>) – Midpoint of the sigmoid.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Sigmoidal yield response.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.Y_th_sigmoid_cap">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Y_th_sigmoid_cap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ymax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.Y_th_sigmoid_cap"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.Y_th_sigmoid_cap" title="Link to this definition">#</a></dt>
<dd><p>Sigmoidal yield function with upper cap at 99% of fertilization input.</p>
<dl class="simple">
<dt>Formula:</dt><dd><p>Y(f) = min(Ymax / (1 + exp(-k * (f - x0))), 0.99 * f)</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>float</em><em> or </em><em>np.ndarray</em>) – Fertilization input.</p></li>
<li><p><strong>Ymax</strong> (<em>float</em>) – Maximum yield.</p></li>
<li><p><strong>k</strong> (<em>float</em>) – Growth steepness.</p></li>
<li><p><strong>x0</strong> (<em>float</em>) – Inflection point.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Capped sigmoidal yield response.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float or np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.compare_r2">
<span class="sig-name descname"><span class="pre">compare_r2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.compare_r2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.compare_r2" title="Link to this definition">#</a></dt>
<dd><p>Compare fitted yield model results across crop types for a given region.</p>
<p>Evaluates and visualizes the yield ceiling (Ymax) or R² for multiple curve-fitting models:
- Ratio-based (Mitscherlich)
- Exponential
- Linear (1 slope)
- Linear (2 slopes)
- Polynomial
- Sigmoid</p>
<p>Results are displayed in a heatmap per culture for the selected region.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>region</strong> (<em>str</em>) – Region name or code.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of NumPy array with values and dictionary of model outputs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[np.ndarray, dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.fit_Y">
<span class="sig-name descname"><span class="pre">fit_Y</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.fit_Y"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.fit_Y" title="Link to this definition">#</a></dt>
<dd><p>Fits a Mitscherlich-type yield curve (Y_th) to historical fertilization/yield data for a given crop and region.</p>
<p>Returns the optimal <cite>y_max</cite> value and the fitted curve.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – The name of the crop.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – The name of the region.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of (y_max, fitted_yield_values).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[float or None, np.ndarray or None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.fit_Y_exp">
<span class="sig-name descname"><span class="pre">fit_Y_exp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.fit_Y_exp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.fit_Y_exp" title="Link to this definition">#</a></dt>
<dd><p>Fit an exponential yield curve (Y = Y_max(1-exp(F/k))) to historical data
for a given crop (culture) and region using non-linear least squares.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – Name of the crop.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple containing optimal parameters Y_max and k, and the fitted curve.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[float, float, np.ndarray | None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.fit_Y_exp_2">
<span class="sig-name descname"><span class="pre">fit_Y_exp_2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.fit_Y_exp_2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.fit_Y_exp_2" title="Link to this definition">#</a></dt>
<dd><p>Fit an exponential yield curve using a constrained optimization method (SLSQP).
Ensures that k &gt; Y_max for interpretability.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – Name of the crop.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple with Y_max, k, and the fitted yield curve.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[float, float, np.ndarray | None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.fit_Y_lin">
<span class="sig-name descname"><span class="pre">fit_Y_lin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.fit_Y_lin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.fit_Y_lin" title="Link to this definition">#</a></dt>
<dd><p>Fit a simple linear model (Y = a * F + b) to yield data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – Name of the crop.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Fitted slope and intercept with predicted yield.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[float, float, np.ndarray | None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.fit_Y_lin_2">
<span class="sig-name descname"><span class="pre">fit_Y_lin_2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.fit_Y_lin_2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.fit_Y_lin_2" title="Link to this definition">#</a></dt>
<dd><p>Fit a piecewise linear model with two slopes to capture yield response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – Name of the crop.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Parameters a, xb (threshold), c (second slope), and the fitted curve.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[float, float, float, np.ndarray | None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.fit_Y_lin_2_scipy">
<span class="sig-name descname"><span class="pre">fit_Y_lin_2_scipy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.fit_Y_lin_2_scipy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.fit_Y_lin_2_scipy" title="Link to this definition">#</a></dt>
<dd><p>Fit the same piecewise linear model as fit_Y_lin_2 but using SLSQP optimizer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – Name of the crop.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Optimized parameters a, xb, c and the yield prediction.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[float, float, float, np.ndarray | None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.fit_Y_lin_2_smooth">
<span class="sig-name descname"><span class="pre">fit_Y_lin_2_smooth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.fit_Y_lin_2_smooth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.fit_Y_lin_2_smooth" title="Link to this definition">#</a></dt>
<dd><p>Fit a smoothed two-slope model (sigmoid transition) for yield response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – Crop name.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Parameters a, xb, c, s (smoothness), and predicted yield.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[float, float, float, float, np.ndarray | None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.fit_Y_poly">
<span class="sig-name descname"><span class="pre">fit_Y_poly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.fit_Y_poly"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.fit_Y_poly" title="Link to this definition">#</a></dt>
<dd><p>Fit a 2nd-degree polynomial (Y = aF^2 + bF + c) to the data without constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – Crop name.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Parameters a, b, c and the fitted values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[float, float, float, np.ndarray | None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.fit_Y_poly_constrained">
<span class="sig-name descname"><span class="pre">fit_Y_poly_constrained</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.fit_Y_poly_constrained"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.fit_Y_poly_constrained" title="Link to this definition">#</a></dt>
<dd><p>Fit a constrained 2nd-degree polynomial to ensure concavity and meaningful shape (P(F)&lt;F).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – Crop name.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Fitted parameters a, b and predicted yield values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[float, float, np.ndarray | None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.fit_Y_sigmoid">
<span class="sig-name descname"><span class="pre">fit_Y_sigmoid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.fit_Y_sigmoid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.fit_Y_sigmoid" title="Link to this definition">#</a></dt>
<dd><p>Fit a logistic sigmoid function (Y = Ymax / (1 + exp(-k(x - x0)))) to yield data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – Name of the crop.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Parameters Ymax, k, x0 and fitted yield curve.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[float, float, float, np.ndarray | None]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.get_Y">
<span class="sig-name descname"><span class="pre">get_Y</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.get_Y"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.get_Y" title="Link to this definition">#</a></dt>
<dd><p>Extracts historical fertilization and yield data for a given crop and region.</p>
<p>Optionally displays a scatter plot of the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – The name of the crop (index in the NitrogenFlowModel).</p></li>
<li><p><strong>region</strong> (<em>str</em>) – The name of the region.</p></li>
<li><p><strong>plot</strong> (<em>bool</em>) – Whether to plot the data (default is False).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple of arrays (F, Y), fertilization and yield values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[np.ndarray, np.ndarray]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.plot_Y">
<span class="sig-name descname"><span class="pre">plot_Y</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.plot_Y"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.plot_Y" title="Link to this definition">#</a></dt>
<dd><p>Plot the fitted Mitscherlich-type yield curve and historical data points
for a specific crop and region.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – Name of the crop.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. The plot is displayed with matplotlib.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.plot_Y_exp">
<span class="sig-name descname"><span class="pre">plot_Y_exp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.plot_Y_exp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.plot_Y_exp" title="Link to this definition">#</a></dt>
<dd><p>Plot the fitted exponential yield curve (capped) with the data for the specified crop.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – Name of the crop.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Target region.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. Plot appears inline.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.plot_Y_lin">
<span class="sig-name descname"><span class="pre">plot_Y_lin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.plot_Y_lin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.plot_Y_lin" title="Link to this definition">#</a></dt>
<dd><p>Plot the fitted linear yield curve (Y = aF + b) and historical data for a crop.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – Crop name.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. Displays the matplotlib plot.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.plot_Y_lin_2">
<span class="sig-name descname"><span class="pre">plot_Y_lin_2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.plot_Y_lin_2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.plot_Y_lin_2" title="Link to this definition">#</a></dt>
<dd><p>Plot the fitted piecewise linear yield curve with two slopes and the historical data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – Crop name.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. The plot is rendered using matplotlib.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.plot_Y_lin_2_smooth">
<span class="sig-name descname"><span class="pre">plot_Y_lin_2_smooth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.plot_Y_lin_2_smooth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.plot_Y_lin_2_smooth" title="Link to this definition">#</a></dt>
<dd><p>Plot the smooth transition linear-2 slope yield model and observed data points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – Name of the crop.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region code.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. Generates a yield vs fertilization curve.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.plot_Y_poly">
<span class="sig-name descname"><span class="pre">plot_Y_poly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.plot_Y_poly"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.plot_Y_poly" title="Link to this definition">#</a></dt>
<dd><p>Plot the fitted constrained polynomial yield curve and the actual data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – Crop name.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. Displays the curve and points.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.Y.plot_Y_sigmoid">
<span class="sig-name descname"><span class="pre">plot_Y_sigmoid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">culture</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#Y.plot_Y_sigmoid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.Y.plot_Y_sigmoid" title="Link to this definition">#</a></dt>
<dd><p>Plot the fitted sigmoid yield curve and compare with observed fertilization-yield data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>culture</strong> (<em>str</em>) – Name of the crop.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. Shows the matplotlib plot.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="grafs_e.prospective.scenario">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">grafs_e.prospective.</span></span><span class="sig-name descname"><span class="pre">scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataloader</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#scenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.scenario" title="Link to this definition">#</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Loads and prepares scenario input sheets for prospective nitrogen flow modeling.</p>
<p>This class is used to initialize and manage scenario-specific data, which can be integrated
into the <cite>NitrogenFlowModel</cite> to simulate future or alternative configurations of agro-food systems.</p>
<p>It either takes a pre-initialized <cite>DataLoader</cite> instance or initializes one internally if not provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scenario_path</strong> (<em>str</em>) – Path to the scenario configuration file or directory.</p></li>
<li><p><strong>dataloader</strong> (<a class="reference internal" href="docs/source/temps/grafs_e.html#grafs_e.N_class.DataLoader" title="grafs_e.N_class.DataLoader"><em>DataLoader</em></a><em>, </em><em>optional</em>) – Optional pre-loaded DataLoader instance. If None, a default one is initialized.</p></li>
</ul>
</dd>
<dt class="field-even">Variables<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>scenario_path</strong> (<em>str</em>) – Absolute path to the scenario data file.</p></li>
<li><p><strong>dataloader</strong> (<a class="reference internal" href="docs/source/temps/grafs_e.html#grafs_e.N_class.DataLoader" title="grafs_e.N_class.DataLoader"><em>DataLoader</em></a>) – Instance of the DataLoader used to retrieve or modify base data.</p></li>
<li><p><strong>data_path</strong> (<em>str</em>) – Path to the general data folder used for model input files.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.scenario.LU_excretion">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LU_excretion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataloader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#scenario.LU_excretion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.scenario.LU_excretion" title="Link to this definition">#</a></dt>
<dd><p>Computes average nitrogen excretion per livestock unit (LU) by species over time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataloader</strong> (<a class="reference internal" href="docs/source/temps/grafs_e.html#grafs_e.N_class.DataLoader" title="grafs_e.N_class.DataLoader"><em>DataLoader</em></a>) – The DataLoader object to use.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region name.</p></li>
<li><p><strong>t</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Optional key to extract values at a specific year.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary (or list) of excretion values by livestock type.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict or list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.scenario.LU_prod">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LU_prod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataloader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#scenario.LU_prod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.scenario.LU_prod" title="Link to this definition">#</a></dt>
<dd><p>Computes productivity (and dairy productivity) per LU for each livestock species.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataloader</strong> (<a class="reference internal" href="docs/source/temps/grafs_e.html#grafs_e.N_class.DataLoader" title="grafs_e.N_class.DataLoader"><em>DataLoader</em></a>) – The DataLoader object to use.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region name.</p></li>
<li><p><strong>t</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Optional key to extract values at a specific year.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary (or list) of productivity values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict or list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.scenario.extrapolate_recent_trend">
<span class="sig-name descname"><span class="pre">extrapolate_recent_trend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">future_year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seuil_bas</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seuil_haut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#scenario.extrapolate_recent_trend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.scenario.extrapolate_recent_trend" title="Link to this definition">#</a></dt>
<dd><p>Extrapolates a trend into the future using a weighted slope method.</p>
<p>Recent years are given higher weight. No predefined functional form is assumed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>list</em><em> or </em><em>np.array</em>) – List or array of historical values.</p></li>
<li><p><strong>future_year</strong> (<em>int</em>) – Year until which to extrapolate.</p></li>
<li><p><strong>alpha</strong> (<em>float</em>) – Slope weighting coefficient for recent years.</p></li>
<li><p><strong>seuil_bas</strong> (<em>float</em>) – Lower bound of extrapolated values.</p></li>
<li><p><strong>seuil_haut</strong> (<em>float</em><em> or </em><em>None</em>) – Upper bound of extrapolated values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(extended_years, extended_values, slope)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[np.array, np.array, float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.scenario.generate_base_scenar">
<span class="sig-name descname"><span class="pre">generate_base_scenar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prod_func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#scenario.generate_base_scenar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.scenario.generate_base_scenar" title="Link to this definition">#</a></dt>
<dd><p>Generates baseline scenario Excel files for all regions, containing only the crop area distribution sheet.</p>
<p>This method is used to create an initial batch of region-specific scenario templates,
filled with yield model projections for each crop, but without demand-side or technical assumptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>prod_func</strong> (<em>str</em>) – Name of the crop production function to apply (e.g., ‘Linear’, ‘Exponential’).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. Excel files are saved to the default scenario directory.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.scenario.generate_crop_tab">
<span class="sig-name descname"><span class="pre">generate_crop_tab</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Linear'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#scenario.generate_crop_tab"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.scenario.generate_crop_tab" title="Link to this definition">#</a></dt>
<dd><p>Generates a crop area table and fits a yield projection model for each crop.</p>
<p>Available models: ‘linear’, ‘linear2’, ‘exp’, ‘ratio’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>region</strong> (<em>str</em>) – Region to generate data for.</p></li>
<li><p><strong>function_name</strong> (<em>str</em>) – The model type used for yield extrapolation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with crop areas and model fit parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.scenario.generate_scenario_excel">
<span class="sig-name descname"><span class="pre">generate_scenario_excel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Linear'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#scenario.generate_scenario_excel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.scenario.generate_scenario_excel" title="Link to this definition">#</a></dt>
<dd><p>Generates a full scenario Excel file for a given region and year.</p>
<p>This method populates all scenario sheets (documentation, main variables, area distribution, technical parameters)
using historical data, regional projections (e.g., population), livestock structure, and crop productivity fits.</p>
<p>The output file includes default values for “Business as usual” configurations, which serve as a baseline
for future simulations in prospective mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> (<em>int</em>) – The future year for which to generate the scenario.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – The region to generate the scenario for.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – File name (without extension) of the output Excel scenario.</p></li>
<li><p><strong>function_name</strong> (<em>str</em>) – Name of the yield model used for projection (e.g., ‘Linear’, ‘Exponential’).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None. The Excel file is saved to the configured scenario path.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.scenario.get_import_net">
<span class="sig-name descname"><span class="pre">get_import_net</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#scenario.get_import_net"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.scenario.get_import_net" title="Link to this definition">#</a></dt>
<dd><p>Extracts net nitrogen import value for a given region over all years.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>region</strong> (<em>str</em>) – Region name.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of net import values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.scenario.historic_trend">
<span class="sig-name descname"><span class="pre">historic_trend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excel_line</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#scenario.historic_trend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.scenario.historic_trend" title="Link to this definition">#</a></dt>
<dd><p>Extracts the historical trend of a value for a given region and Excel row in GRAFS_full.xslx.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>region</strong> (<em>str</em>) – The region of interest.</p></li>
<li><p><strong>excel_line</strong> (<em>int</em>) – The row identifier (Excel line) to track.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of historical values over available years.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[float]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.scenario.livestock_LU">
<em class="property"><span class="k"><span class="pre">static</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">livestock_LU</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataloader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#scenario.livestock_LU"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.scenario.livestock_LU" title="Link to this definition">#</a></dt>
<dd><p>Computes the number of livestock units (LU) per species over time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataloader</strong> (<a class="reference internal" href="docs/source/temps/grafs_e.html#grafs_e.N_class.DataLoader" title="grafs_e.N_class.DataLoader"><em>DataLoader</em></a>) – The DataLoader object to use.</p></li>
<li><p><strong>region</strong> (<em>str</em>) – Region name.</p></li>
<li><p><strong>t</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Optional key to extract values at a specific year.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary (or list) of LU values by species.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict or list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.scenario.logistic_urb_pop">
<span class="sig-name descname"><span class="pre">logistic_urb_pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">region</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#scenario.logistic_urb_pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.scenario.logistic_urb_pop" title="Link to this definition">#</a></dt>
<dd><p>Estimates the proportion of urban population using a logistic regression on historical data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>region</strong> (<em>str</em>) – Region name.</p></li>
<li><p><strong>year</strong> (<em>int</em>) – Target year for projection.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Estimated urban population share (%).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="grafs_e.prospective.scenario.pre_generate_scenario_excel">
<span class="sig-name descname"><span class="pre">pre_generate_scenario_excel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">function_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Linear'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/prospective.html#scenario.pre_generate_scenario_excel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.prospective.scenario.pre_generate_scenario_excel" title="Link to this definition">#</a></dt>
<dd><p>Generates pre-filled scenario Excel files for each region based on fitted crop data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>function_name</strong> (<em>str</em>) – The model type used for yield extrapolation (‘Linear’, ‘exp’, etc.).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-grafs_e.sankey">
<span id="grafs-e-sankey-module"></span><h2>grafs_e.sankey module<a class="headerlink" href="#module-grafs_e.sankey" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.sankey.merge_nodes">
<span class="sig-prename descclassname"><span class="pre">grafs_e.sankey.</span></span><span class="sig-name descname"><span class="pre">merge_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adjacency_matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merges</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/sankey.html#merge_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.sankey.merge_nodes" title="Link to this definition">#</a></dt>
<dd><p>Merge groups of nodes (labels) in the adjacency matrix by combining their nitrogen fluxes.</p>
<p>This function allows you to combine multiple nodes (e.g., different sectors) into one, by
summing their nitrogen fluxes. It takes a dictionary of node groupings (<cite>merges</cite>), where each
key corresponds to a merged label, and the values are the original labels to be merged.</p>
<section id="parameters">
<h3>Parameters:<a class="headerlink" href="#parameters" title="Link to this heading">#</a></h3>
<dl>
<dt>adjacency_matrix<span class="classifier">np.ndarray</span></dt><dd><p>A square matrix of size (n, n) representing nitrogen fluxes, where each entry (i, j)
indicates the nitrogen flow from node i to node j (in ktN/year).</p>
</dd>
<dt>labels<span class="classifier">list of str</span></dt><dd><p>A list of the original labels for the nodes, with length n.</p>
</dd>
<dt>merges<span class="classifier">dict</span></dt><dd><p>A dictionary defining which nodes to merge. The keys are the new labels for merged groups,
and the values are lists of the labels to be merged. For example:
{</p>
<blockquote>
<div><p>“population”: [“urban”, “rural”],
“livestock”: [“bovines”, “ovines”, “equine”, “poultry”, “porcines”, “caprines”],
“industry”: [“haber-bosch”, “other sectors”]</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
</section>
<section id="returns">
<h3>Returns:<a class="headerlink" href="#returns" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>new_matrix<span class="classifier">np.ndarray</span></dt><dd><p>The new adjacency matrix after merging the nodes, where the fluxes between merged nodes are summed.</p>
</dd>
<dt>new_labels<span class="classifier">list of str</span></dt><dd><p>The list of the new, merged labels.</p>
</dd>
<dt>old_to_new<span class="classifier">dict</span></dt><dd><p>A dictionary mapping the original node indices to the new merged indices.</p>
</dd>
</dl>
</section>
<section id="notes">
<h3>Notes:<a class="headerlink" href="#notes" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>The function combines nitrogen fluxes between all nodes defined in <cite>merges</cite>, and returns a reduced matrix
with fewer nodes, where the original nodes within each merged group are summed together.</p></li>
</ul>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.sankey.streamlit_sankey">
<span class="sig-prename descclassname"><span class="pre">grafs_e.sankey.</span></span><span class="sig-name descname"><span class="pre">streamlit_sankey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transition_matrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">main_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scope</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_to_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_to_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/sankey.html#streamlit_sankey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.sankey.streamlit_sankey" title="Link to this definition">#</a></dt>
<dd><p>Creates an interactive Sankey diagram in Streamlit, displaying the incoming and outgoing flows of a main node
with custom tooltips on hover.</p>
<p>The Sankey diagram is generated based on a transition matrix that models nitrogen flows between different sectors
of the system. The function visualizes these flows, highlights the main node, and allows zooming into the flows within
a defined scope.</p>
<section id="id3">
<h3>Parameters:<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>transition_matrix<span class="classifier">np.ndarray</span></dt><dd><p>A 2D NumPy array representing the transition matrix (flows between nodes in ktN/year).</p>
</dd>
<dt>main_node<span class="classifier">int</span></dt><dd><p>The index of the node (sector) to be focused on, used as the central node for flow visualization.</p>
</dd>
<dt>scope<span class="classifier">int, optional</span></dt><dd><p>The scope of the flow display (i.e., the depth of incoming and outgoing flow visualization from the main node).
Default is 1, meaning it shows only direct flows.</p>
</dd>
<dt>index_to_label<span class="classifier">dict, optional</span></dt><dd><p>A dictionary that maps indices of the transition matrix to sector labels for display.</p>
</dd>
<dt>index_to_color<span class="classifier">dict, optional</span></dt><dd><p>A dictionary that maps indices of the transition matrix to colors for the nodes.</p>
</dd>
</dl>
</section>
<section id="id4">
<h3>Returns:<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>None</dt><dd><p>The function directly displays the Sankey diagram in the Streamlit interface.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.sankey.streamlit_sankey_app">
<span class="sig-prename descclassname"><span class="pre">grafs_e.sankey.</span></span><span class="sig-name descname"><span class="pre">streamlit_sankey_app</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode_complet</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/sankey.html#streamlit_sankey_app"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.sankey.streamlit_sankey_app" title="Link to this definition">#</a></dt>
<dd><p>Creates an interactive Sankey diagram in Streamlit, showing nitrogen flows in a system based on a given model.</p>
<p>This function allows users to select a main node (sector) and displays its incoming and outgoing nitrogen flows.
The function supports two modes:
- <strong>Full mode (mode_complet=True)</strong>: Displays all nodes without any merging.
- <strong>Simplified mode (mode_complet=False)</strong>: Merges specific nodes (e.g., combining livestock or trade sectors) for a clearer overview.</p>
<p>In the simplified mode, nodes are merged based on a predefined set of groupings (e.g., merging various livestock categories into one).</p>
<section id="id5">
<h3>Parameters:<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>model<span class="classifier">NitrogenFlowModel</span></dt><dd><p>The nitrogen flow model containing the adjacency matrix (transition_matrix), labels, and other relevant data.</p>
</dd>
<dt>mode_complet<span class="classifier">bool</span></dt><dd><p>If <cite>True</cite>, no nodes are merged, and all sectors are shown individually. If <cite>False</cite>, some nodes are merged for simplicity.</p>
</dd>
</dl>
</section>
<section id="id6">
<h3>Returns:<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>None</dt><dd><p>The function directly displays the Sankey diagram in the Streamlit interface.</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.sankey.streamlit_sankey_fertilization">
<span class="sig-prename descclassname"><span class="pre">grafs_e.sankey.</span></span><span class="sig-name descname"><span class="pre">streamlit_sankey_fertilization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cultures</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legumineuses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prairies</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'Industry':</span> <span class="pre">['Haber-Bosch',</span> <span class="pre">'other</span> <span class="pre">sectors'],</span> <span class="pre">'Livestock':</span> <span class="pre">['bovines',</span> <span class="pre">'ovines',</span> <span class="pre">'equine',</span> <span class="pre">'poultry',</span> <span class="pre">'porcines',</span> <span class="pre">'caprines'],</span> <span class="pre">'Population':</span> <span class="pre">['urban',</span> <span class="pre">'rural']}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">THRESHOLD</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/sankey.html#streamlit_sankey_fertilization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.sankey.streamlit_sankey_fertilization" title="Link to this definition">#</a></dt>
<dd><p>Creates a Sankey diagram showing the distribution of backward flows for crops, legumes, and grasslands,
after merging specific nodes (e.g., “urban” + “rural” -&gt; “population”). It filters out nodes and flows
with throughflow/values below a given threshold.</p>
<p>The Sankey diagram visualizes nitrogen flows, helping to understand the system’s nutrient balance.
In this diagram:</p>
<blockquote>
<div><ul class="simple">
<li><p>Nodes are merged based on predefined categories (e.g., merging various livestock types into one).</p></li>
<li><p>Only significant flows (above the <cite>THRESHOLD</cite>) are kept.</p></li>
<li><p>Backward flows (inflowing nitrogen) are shown, with nodes having a higher throughflow prioritized.</p></li>
</ul>
</div></blockquote>
<section id="id7">
<h3>Parameters:<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<dl>
<dt>model<span class="classifier">NitrogenFlowModel</span></dt><dd><p>The nitrogen flow model used to retrieve the adjacency matrix and labels for sectors.</p>
</dd>
<dt>cultures<span class="classifier">list of str</span></dt><dd><p>The list of crop labels involved in the Sankey diagram.</p>
</dd>
<dt>legumineuses<span class="classifier">list of str</span></dt><dd><p>The list of leguminous crop labels involved in the Sankey diagram.</p>
</dd>
<dt>prairies<span class="classifier">list of str</span></dt><dd><p>The list of grassland or prairie crop labels involved in the Sankey diagram.</p>
</dd>
<dt>merges<span class="classifier">dict, optional</span></dt><dd><p>A dictionary specifying the node groups to merge. The keys are the new merged labels, and the values
are the labels of the nodes to merge. Default merges include:</p>
<blockquote>
<div><ul class="simple">
<li><p>“Population”: [“urban”, “rural”]</p></li>
<li><p>“Livestock”: [“bovines”, “ovines”, “equine”, “poultry”, “porcines”, “caprines”]</p></li>
<li><p>“Industry”: [“Haber-Bosch”, “other sectors”]</p></li>
</ul>
</div></blockquote>
</dd>
<dt>THRESHOLD<span class="classifier">float, optional</span></dt><dd><p>The minimum value for flows and throughflows to be displayed. Default is <cite>1e-1</cite>, meaning only flows above
this threshold are kept in the visualization.</p>
</dd>
</dl>
</section>
<section id="id8">
<h3>Returns:<a class="headerlink" href="#id8" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>None</dt><dd><p>This function directly displays the Sankey diagram in the Streamlit interface.</p>
</dd>
</dl>
</section>
<section id="id9">
<h3>Notes:<a class="headerlink" href="#id9" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>The function first merges nodes based on the <cite>merges</cite> dictionary, then constructs the Sankey diagram
for backward flows. It uses <cite>THRESHOLD</cite> to filter out insignificant nodes and flows.</p></li>
<li><p>The color coding of nodes is customized based on predefined categories (e.g., “Livestock”, “Population”, etc.).</p></li>
</ul>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.sankey.streamlit_sankey_food_flows">
<span class="sig-prename descclassname"><span class="pre">grafs_e.sankey.</span></span><span class="sig-name descname"><span class="pre">streamlit_sankey_food_flows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cultures</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legumineuses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prairies</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trades</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)</span> <span class="pre">trade':</span> <span class="pre">['cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)</span> <span class="pre">feed</span> <span class="pre">trade'],</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables</span> <span class="pre">trade':</span> <span class="pre">['fruits</span> <span class="pre">and</span> <span class="pre">vegetables</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables</span> <span class="pre">feed</span> <span class="pre">trade'],</span> <span class="pre">'leguminous</span> <span class="pre">trade':</span> <span class="pre">['leguminous</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'leguminous</span> <span class="pre">feed</span> <span class="pre">trade'],</span> <span class="pre">'oleaginous</span> <span class="pre">trade':</span> <span class="pre">['oleaginous</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'oleaginous</span> <span class="pre">feed</span> <span class="pre">trade']}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">THRESHOLD</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/sankey.html#streamlit_sankey_food_flows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.sankey.streamlit_sankey_food_flows" title="Link to this definition">#</a></dt>
<dd><p>Creates a Sankey diagram showing the distribution of food and feed flows (local, imports and exports)
for crops, legumes, and grasslands after merging certain nodes (e.g., merging “urban” + “rural” into “population”).
The diagram filters out nodes and flows with values below a given threshold (<cite>THRESHOLD</cite>).</p>
<dl class="simple">
<dt>This function separates trade nodes into two categories:</dt><dd><ul class="simple">
<li><p>“(import)” for incoming flows into the region,</p></li>
<li><p>“(export)” for outgoing flows from the region.</p></li>
</ul>
</dd>
</dl>
<section id="id10">
<h3>Parameters:<a class="headerlink" href="#id10" title="Link to this heading">#</a></h3>
<dl>
<dt>model<span class="classifier">NitrogenFlowModel</span></dt><dd><p>The nitrogen flow model used to retrieve the adjacency matrix and labels for sectors.</p>
</dd>
<dt>cultures<span class="classifier">list of str</span></dt><dd><p>The list of crop labels involved in the Sankey diagram.</p>
</dd>
<dt>legumineuses<span class="classifier">list of str</span></dt><dd><p>The list of leguminous crop labels involved in the Sankey diagram.</p>
</dd>
<dt>prairies<span class="classifier">list of str</span></dt><dd><p>The list of grassland or prairie crop labels involved in the Sankey diagram.</p>
</dd>
<dt>trades<span class="classifier">list of str</span></dt><dd><p>The list of trade-related labels to be included in the Sankey diagram.</p>
</dd>
<dt>merges<span class="classifier">dict, optional</span></dt><dd><p>A dictionary specifying the node groups to merge. The keys are the new merged labels, and the values
are the labels of the nodes to merge. For example:</p>
<blockquote>
<div><ul class="simple">
<li><p>“cereals (excluding rice) trade”: [“cereals (excluding rice) food trade”, “cereals (excluding rice) feed trade”]</p></li>
</ul>
</div></blockquote>
</dd>
<dt>THRESHOLD<span class="classifier">float, optional</span></dt><dd><p>The minimum value for flows to be displayed. Default is <cite>1e-1</cite>, meaning only flows above this threshold
will be shown.</p>
</dd>
</dl>
</section>
<section id="id11">
<h3>Returns:<a class="headerlink" href="#id11" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>None</dt><dd><p>This function directly displays the Sankey diagram in the Streamlit interface.</p>
</dd>
</dl>
</section>
<section id="id12">
<h3>Notes:<a class="headerlink" href="#id12" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>The function merges specific nodes based on the <cite>merges</cite> dictionary, then constructs the Sankey diagram
for food flows.</p></li>
<li><p>The diagram distinguishes between trade flows and non-trade flows, showing imports and exports separately.</p></li>
<li><p>Nodes and flows with values below the <cite>THRESHOLD</cite> are excluded from the final visualization.</p></li>
</ul>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.sankey.streamlit_sankey_systemic_flows">
<span class="sig-prename descclassname"><span class="pre">grafs_e.sankey.</span></span><span class="sig-name descname"><span class="pre">streamlit_sankey_systemic_flows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'Environment':</span> <span class="pre">['NH3</span> <span class="pre">volatilization',</span> <span class="pre">'N2O</span> <span class="pre">emission',</span> <span class="pre">'hydro-system',</span> <span class="pre">'other</span> <span class="pre">losses',</span> <span class="pre">'atmospheric</span> <span class="pre">N2'],</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)':</span> <span class="pre">['Wheat',</span> <span class="pre">'Rye',</span> <span class="pre">'Barley',</span> <span class="pre">'Oat',</span> <span class="pre">'Grain</span> <span class="pre">maize',</span> <span class="pre">'Rice',</span> <span class="pre">'Other</span> <span class="pre">cereals'],</span> <span class="pre">'forages':</span> <span class="pre">['Forage</span> <span class="pre">maize',</span> <span class="pre">'Forage</span> <span class="pre">cabbages',</span> <span class="pre">'Straw'],</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables':</span> <span class="pre">['Dry</span> <span class="pre">vegetables',</span> <span class="pre">'Dry</span> <span class="pre">fruits',</span> <span class="pre">'Squash</span> <span class="pre">and</span> <span class="pre">melons',</span> <span class="pre">'Cabbage',</span> <span class="pre">'Leaves</span> <span class="pre">vegetables',</span> <span class="pre">'Fruits',</span> <span class="pre">'Olives',</span> <span class="pre">'Citrus'],</span> <span class="pre">'leguminous':</span> <span class="pre">['Horse</span> <span class="pre">beans</span> <span class="pre">and</span> <span class="pre">faba</span> <span class="pre">beans',</span> <span class="pre">'Peas',</span> <span class="pre">'Other</span> <span class="pre">protein</span> <span class="pre">crops',</span> <span class="pre">'Green</span> <span class="pre">peas',</span> <span class="pre">'Dry</span> <span class="pre">beans',</span> <span class="pre">'Green</span> <span class="pre">beans',</span> <span class="pre">'Soybean'],</span> <span class="pre">'monogastrics':</span> <span class="pre">['porcines',</span> <span class="pre">'poultry'],</span> <span class="pre">'natural</span> <span class="pre">meadows</span> <span class="pre">':</span> <span class="pre">['Natural</span> <span class="pre">meadows</span> <span class="pre">'],</span> <span class="pre">'oleaginous':</span> <span class="pre">['Rapeseed',</span> <span class="pre">'Sunflower',</span> <span class="pre">'Other</span> <span class="pre">oil</span> <span class="pre">crops'],</span> <span class="pre">'population':</span> <span class="pre">['urban',</span> <span class="pre">'rural'],</span> <span class="pre">'roots':</span> <span class="pre">['Sugar</span> <span class="pre">beet',</span> <span class="pre">'Potatoes',</span> <span class="pre">'Other</span> <span class="pre">roots'],</span> <span class="pre">'ruminants':</span> <span class="pre">['bovines',</span> <span class="pre">'ovines',</span> <span class="pre">'caprines',</span> <span class="pre">'equine'],</span> <span class="pre">'temporary</span> <span class="pre">meadows':</span> <span class="pre">['Non-legume</span> <span class="pre">temporary</span> <span class="pre">meadow',</span> <span class="pre">'Alfalfa</span> <span class="pre">and</span> <span class="pre">clover'],</span> <span class="pre">'trade':</span> <span class="pre">['animal</span> <span class="pre">trade',</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'fruits</span> <span class="pre">and</span> <span class="pre">vegetables</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'leguminous</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'oleaginous</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'roots</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'rice</span> <span class="pre">food</span> <span class="pre">trade',</span> <span class="pre">'cereals</span> <span class="pre">(excluding</span> <span class="pre">rice)</span> <span class="pre">feed</span> <span class="pre">trade',</span> <span class="pre">'forages</span> <span class="pre">feed</span> <span class="pre">trade',</span> <span class="pre">'leguminous</span> <span class="pre">feed</span> <span class="pre">trade',</span> <span class="pre">'oleaginous</span> <span class="pre">feed</span> <span class="pre">trade',</span> <span class="pre">'grasslands</span> <span class="pre">feed</span> <span class="pre">trade']}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/grafs_e/sankey.html#streamlit_sankey_systemic_flows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.sankey.streamlit_sankey_systemic_flows" title="Link to this definition">#</a></dt>
<dd><p>DEPRECATED. Might be removed in futur release.
Creates a systemic Sankey diagram displaying all flows from the adjacency matrix of the model.</p>
<p>The Sankey diagram includes all nitrogen flows between sectors and merges certain nodes based on the <cite>merges</cite> dictionary.
Any flow with a value lower than the <cite>THRESHOLD</cite> is removed from the visualization.</p>
<section id="id13">
<h3>Parameters:<a class="headerlink" href="#id13" title="Link to this heading">#</a></h3>
<dl>
<dt>model<span class="classifier">NitrogenFlowModel</span></dt><dd><p>The nitrogen flow model containing the adjacency matrix and labels for sectors.</p>
</dd>
<dt>merges<span class="classifier">dict, optional</span></dt><dd><p>A dictionary specifying the nodes to merge. The keys are the new merged labels, and the values
are lists of labels to merge. For example:</p>
<blockquote>
<div><ul class="simple">
<li><p>“cereals (excluding rice)”: [“Wheat”, “Rye”, “Barley”, “Oat”, “Grain maize”, “Rice”, “Other cereals”]</p></li>
</ul>
</div></blockquote>
</dd>
<dt>THRESHOLD<span class="classifier">float, optional</span></dt><dd><p>The minimum value for flows to be displayed. Flows below this threshold are excluded from the diagram.
The default is <cite>1e-1</cite>, which removes flows with values smaller than 0.1 ktN/yr.</p>
</dd>
</dl>
</section>
<section id="id14">
<h3>Returns:<a class="headerlink" href="#id14" title="Link to this heading">#</a></h3>
<dl class="simple">
<dt>None</dt><dd><p>This function directly displays the Sankey diagram in the Streamlit interface.</p>
</dd>
</dl>
</section>
<section id="id15">
<h3>Notes:<a class="headerlink" href="#id15" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>The diagram shows the distribution of all nitrogen flows between sectors after merging specific nodes.</p></li>
<li><p>The merging of nodes is defined in the <cite>merges</cite> dictionary, which groups multiple original labels into new merged labels.</p></li>
<li><p>The diagram includes both “import” and “export” flows for the trade-related nodes, and internal flows are displayed as well.</p></li>
<li><p>Any flow below the <cite>THRESHOLD</cite> value is filtered out from the visualization to keep only the significant flows.</p></li>
</ul>
</section>
</dd></dl>

</section>
<section id="module-grafs_e">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-grafs_e" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="grafs_e.main">
<span class="sig-prename descclassname"><span class="pre">grafs_e.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/grafs_e.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#grafs_e.main" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">GRAFS-E documentation</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#submodules">Submodules</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-grafs_e.N_class">grafs_e.N_class module</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.CultureData"><code class="docutils literal notranslate"><span class="pre">CultureData</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.CultureData.create_culture_dataframe"><code class="docutils literal notranslate"><span class="pre">create_culture_dataframe()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.DataLoader"><code class="docutils literal notranslate"><span class="pre">DataLoader</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.DataLoader.get_import_feed"><code class="docutils literal notranslate"><span class="pre">get_import_feed()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.DataLoader.pre_process_df"><code class="docutils literal notranslate"><span class="pre">pre_process_df()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.ElevageData"><code class="docutils literal notranslate"><span class="pre">ElevageData</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.ElevageData.create_elevage_dataframe"><code class="docutils literal notranslate"><span class="pre">create_elevage_dataframe()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.FluxGenerator"><code class="docutils literal notranslate"><span class="pre">FluxGenerator</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.FluxGenerator.generate_flux"><code class="docutils literal notranslate"><span class="pre">generate_flux()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.FluxGenerator.get_coef"><code class="docutils literal notranslate"><span class="pre">get_coef()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel"><code class="docutils literal notranslate"><span class="pre">NitrogenFlowModel</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.C_eff"><code class="docutils literal notranslate"><span class="pre">C_eff()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.F_eff"><code class="docutils literal notranslate"><span class="pre">F_eff()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.Ftot"><code class="docutils literal notranslate"><span class="pre">Ftot()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.LU_density"><code class="docutils literal notranslate"><span class="pre">LU_density()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.N2O_em"><code class="docutils literal notranslate"><span class="pre">N2O_em()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.NH3_vol"><code class="docutils literal notranslate"><span class="pre">NH3_vol()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.NUE"><code class="docutils literal notranslate"><span class="pre">NUE()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.NUE_system"><code class="docutils literal notranslate"><span class="pre">NUE_system()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.NUE_system_2"><code class="docutils literal notranslate"><span class="pre">NUE_system_2()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.N_eff"><code class="docutils literal notranslate"><span class="pre">N_eff()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.N_self_sufficient"><code class="docutils literal notranslate"><span class="pre">N_self_sufficient()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.R_eff"><code class="docutils literal notranslate"><span class="pre">R_eff()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.Y"><code class="docutils literal notranslate"><span class="pre">Y()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.animal_production"><code class="docutils literal notranslate"><span class="pre">animal_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.cereals_production"><code class="docutils literal notranslate"><span class="pre">cereals_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.cereals_production_r"><code class="docutils literal notranslate"><span class="pre">cereals_production_r()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.compute_fluxes"><code class="docutils literal notranslate"><span class="pre">compute_fluxes()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.emissions"><code class="docutils literal notranslate"><span class="pre">emissions()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.env_footprint"><code class="docutils literal notranslate"><span class="pre">env_footprint()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.extract_input_output_matrixs"><code class="docutils literal notranslate"><span class="pre">extract_input_output_matrixs()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.fruits_and_vegetable_production"><code class="docutils literal notranslate"><span class="pre">fruits_and_vegetable_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.fruits_and_vegetable_production_r"><code class="docutils literal notranslate"><span class="pre">fruits_and_vegetable_production_r()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.get_adjacency_matrix"><code class="docutils literal notranslate"><span class="pre">get_adjacency_matrix()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.get_core_matrix"><code class="docutils literal notranslate"><span class="pre">get_core_matrix()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.get_df_culture"><code class="docutils literal notranslate"><span class="pre">get_df_culture()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.get_df_elevage"><code class="docutils literal notranslate"><span class="pre">get_df_elevage()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.get_transition_matrix"><code class="docutils literal notranslate"><span class="pre">get_transition_matrix()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.grassland_and_forages_production"><code class="docutils literal notranslate"><span class="pre">grassland_and_forages_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.grassland_and_forages_production_r"><code class="docutils literal notranslate"><span class="pre">grassland_and_forages_production_r()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.imported_nitrogen"><code class="docutils literal notranslate"><span class="pre">imported_nitrogen()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.leguminous_production"><code class="docutils literal notranslate"><span class="pre">leguminous_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.leguminous_production_r"><code class="docutils literal notranslate"><span class="pre">leguminous_production_r()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.net_footprint"><code class="docutils literal notranslate"><span class="pre">net_footprint()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.net_imported_animal"><code class="docutils literal notranslate"><span class="pre">net_imported_animal()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.net_imported_plant"><code class="docutils literal notranslate"><span class="pre">net_imported_plant()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.oleaginous_production"><code class="docutils literal notranslate"><span class="pre">oleaginous_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.oleaginous_production_r"><code class="docutils literal notranslate"><span class="pre">oleaginous_production_r()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.plot_heatmap"><code class="docutils literal notranslate"><span class="pre">plot_heatmap()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.plot_heatmap_interactive"><code class="docutils literal notranslate"><span class="pre">plot_heatmap_interactive()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.primXsec"><code class="docutils literal notranslate"><span class="pre">primXsec()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.rel_fert"><code class="docutils literal notranslate"><span class="pre">rel_fert()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.roots_production"><code class="docutils literal notranslate"><span class="pre">roots_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.roots_production_r"><code class="docutils literal notranslate"><span class="pre">roots_production_r()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.stacked_plant_production"><code class="docutils literal notranslate"><span class="pre">stacked_plant_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.surfaces"><code class="docutils literal notranslate"><span class="pre">surfaces()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.surfaces_tot"><code class="docutils literal notranslate"><span class="pre">surfaces_tot()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.tot_fert"><code class="docutils literal notranslate"><span class="pre">tot_fert()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.N_class.NitrogenFlowModel.total_plant_production"><code class="docutils literal notranslate"><span class="pre">total_plant_production()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-grafs_e.app">grafs_e.app module</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.add_color_legend"><code class="docutils literal notranslate"><span class="pre">add_color_legend()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.add_france_rectangle"><code class="docutils literal notranslate"><span class="pre">add_france_rectangle()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.create_image_map"><code class="docutils literal notranslate"><span class="pre">create_image_map()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.create_map"><code class="docutils literal notranslate"><span class="pre">create_map()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.create_map_with_metrics"><code class="docutils literal notranslate"><span class="pre">create_map_with_metrics()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.excel_uploaded"><code class="docutils literal notranslate"><span class="pre">excel_uploaded()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.generate_heatmap"><code class="docutils literal notranslate"><span class="pre">generate_heatmap()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.generate_scenario"><code class="docutils literal notranslate"><span class="pre">generate_scenario()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.get_metric_range"><code class="docutils literal notranslate"><span class="pre">get_metric_range()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.get_metrics_for_all_regions"><code class="docutils literal notranslate"><span class="pre">get_metrics_for_all_regions()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.get_metrics_for_all_years"><code class="docutils literal notranslate"><span class="pre">get_metrics_for_all_years()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.is_online"><code class="docutils literal notranslate"><span class="pre">is_online()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.load_data"><code class="docutils literal notranslate"><span class="pre">load_data()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.load_geojson"><code class="docutils literal notranslate"><span class="pre">load_geojson()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.load_image"><code class="docutils literal notranslate"><span class="pre">load_image()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.load_pkl"><code class="docutils literal notranslate"><span class="pre">load_pkl()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.plot_standard_graph"><code class="docutils literal notranslate"><span class="pre">plot_standard_graph()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.run_models_for_all_regions"><code class="docutils literal notranslate"><span class="pre">run_models_for_all_regions()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.run_models_for_all_years"><code class="docutils literal notranslate"><span class="pre">run_models_for_all_years()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.stacked_area_chart"><code class="docutils literal notranslate"><span class="pre">stacked_area_chart()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.app.weighted_mean"><code class="docutils literal notranslate"><span class="pre">weighted_mean()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-grafs_e.donnees">grafs_e.donnees module</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-grafs_e.graphes_objet">grafs_e.graphes_objet module</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer"><code class="docutils literal notranslate"><span class="pre">GraphAnalyzer</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.calculate_Ceff"><code class="docutils literal notranslate"><span class="pre">calculate_Ceff()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.calculate_Feff"><code class="docutils literal notranslate"><span class="pre">calculate_Feff()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.calculate_Neff"><code class="docutils literal notranslate"><span class="pre">calculate_Neff()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.calculate_Reff"><code class="docutils literal notranslate"><span class="pre">calculate_Reff()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.calculer_et_tracer_distribution_distances"><code class="docutils literal notranslate"><span class="pre">calculer_et_tracer_distribution_distances()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.calculer_et_tracer_distribution_distances_V2"><code class="docutils literal notranslate"><span class="pre">calculer_et_tracer_distribution_distances_V2()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.calculer_longueur_moyenne_chemins"><code class="docutils literal notranslate"><span class="pre">calculer_longueur_moyenne_chemins()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.dijkstra_exclusion"><code class="docutils literal notranslate"><span class="pre">dijkstra_exclusion()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.in_centrality"><code class="docutils literal notranslate"><span class="pre">in_centrality()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.obtenir_n_plus_courts_chemins"><code class="docutils literal notranslate"><span class="pre">obtenir_n_plus_courts_chemins()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.out_centrality"><code class="docutils literal notranslate"><span class="pre">out_centrality()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.plot_degree_distribution_power_law"><code class="docutils literal notranslate"><span class="pre">plot_degree_distribution_power_law()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.plot_flux_distribution_log"><code class="docutils literal notranslate"><span class="pre">plot_flux_distribution_log()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.plot_flux_distribution_log_x"><code class="docutils literal notranslate"><span class="pre">plot_flux_distribution_log_x()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.plot_flux_distribution_semilog"><code class="docutils literal notranslate"><span class="pre">plot_flux_distribution_semilog()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.plot_weight_probability_distribution"><code class="docutils literal notranslate"><span class="pre">plot_weight_probability_distribution()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphAnalyzer.weighted_assortativity"><code class="docutils literal notranslate"><span class="pre">weighted_assortativity()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphVisualizer"><code class="docutils literal notranslate"><span class="pre">GraphVisualizer</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphVisualizer.afficher_chemins_graphiquement"><code class="docutils literal notranslate"><span class="pre">afficher_chemins_graphiquement()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphVisualizer.afficher_chemins_graphiquement_sous_graph"><code class="docutils literal notranslate"><span class="pre">afficher_chemins_graphiquement_sous_graph()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphVisualizer.afficher_chemins_graphiquement_tot"><code class="docutils literal notranslate"><span class="pre">afficher_chemins_graphiquement_tot()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphVisualizer.afficher_et_visualiser_10_noeuds_plus_proches"><code class="docutils literal notranslate"><span class="pre">afficher_et_visualiser_10_noeuds_plus_proches()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphVisualizer.afficher_et_visualiser_10_noeuds_plus_proches_2"><code class="docutils literal notranslate"><span class="pre">afficher_et_visualiser_10_noeuds_plus_proches_2()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphVisualizer.ajouter_retour_ligne_si_long"><code class="docutils literal notranslate"><span class="pre">ajouter_retour_ligne_si_long()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphVisualizer.color_nodes"><code class="docutils literal notranslate"><span class="pre">color_nodes()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphVisualizer.draw_curved_edges"><code class="docutils literal notranslate"><span class="pre">draw_curved_edges()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphVisualizer.draw_curved_edges_fancy"><code class="docutils literal notranslate"><span class="pre">draw_curved_edges_fancy()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphVisualizer.draw_curved_edges_log"><code class="docutils literal notranslate"><span class="pre">draw_curved_edges_log()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphVisualizer.draw_custom_networkx_edges"><code class="docutils literal notranslate"><span class="pre">draw_custom_networkx_edges()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphVisualizer.draw_hexagonal_graph"><code class="docutils literal notranslate"><span class="pre">draw_hexagonal_graph()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphVisualizer.draw_nodes_with_patches"><code class="docutils literal notranslate"><span class="pre">draw_nodes_with_patches()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphVisualizer.plot_graph_base"><code class="docutils literal notranslate"><span class="pre">plot_graph_base()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.GraphVisualizer.regroup_nodes_layout"><code class="docutils literal notranslate"><span class="pre">regroup_nodes_layout()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.Graphs_maker"><code class="docutils literal notranslate"><span class="pre">Graphs_maker</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.Graphs_maker.get_graph"><code class="docutils literal notranslate"><span class="pre">get_graph()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.graphes_objet.Graphs_maker.get_matrix"><code class="docutils literal notranslate"><span class="pre">get_matrix()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-grafs_e.launch">grafs_e.launch module</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.launch.run"><code class="docutils literal notranslate"><span class="pre">run()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-grafs_e.prospective">grafs_e.prospective module</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.CultureData_prospect"><code class="docutils literal notranslate"><span class="pre">CultureData_prospect</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.CultureData_prospect.create_culture_dataframe"><code class="docutils literal notranslate"><span class="pre">create_culture_dataframe()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.ElevageData_prospect"><code class="docutils literal notranslate"><span class="pre">ElevageData_prospect</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.ElevageData_prospect.create_elevage_dataframe"><code class="docutils literal notranslate"><span class="pre">create_elevage_dataframe()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect"><code class="docutils literal notranslate"><span class="pre">NitrogenFlowModel_prospect</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.C_eff"><code class="docutils literal notranslate"><span class="pre">C_eff()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.F_eff"><code class="docutils literal notranslate"><span class="pre">F_eff()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.Ftot"><code class="docutils literal notranslate"><span class="pre">Ftot()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.LU_density"><code class="docutils literal notranslate"><span class="pre">LU_density()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.N2O_em"><code class="docutils literal notranslate"><span class="pre">N2O_em()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.NH3_vol"><code class="docutils literal notranslate"><span class="pre">NH3_vol()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.NUE"><code class="docutils literal notranslate"><span class="pre">NUE()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.NUE_system"><code class="docutils literal notranslate"><span class="pre">NUE_system()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.NUE_system_2"><code class="docutils literal notranslate"><span class="pre">NUE_system_2()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.N_eff"><code class="docutils literal notranslate"><span class="pre">N_eff()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.N_self_sufficient"><code class="docutils literal notranslate"><span class="pre">N_self_sufficient()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.R_eff"><code class="docutils literal notranslate"><span class="pre">R_eff()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.Y"><code class="docutils literal notranslate"><span class="pre">Y()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.animal_production"><code class="docutils literal notranslate"><span class="pre">animal_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.cereals_production"><code class="docutils literal notranslate"><span class="pre">cereals_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.cereals_production_r"><code class="docutils literal notranslate"><span class="pre">cereals_production_r()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.compute_fluxes"><code class="docutils literal notranslate"><span class="pre">compute_fluxes()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.emissions"><code class="docutils literal notranslate"><span class="pre">emissions()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.env_footprint"><code class="docutils literal notranslate"><span class="pre">env_footprint()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.extract_input_output_matrixs"><code class="docutils literal notranslate"><span class="pre">extract_input_output_matrixs()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.fruits_and_vegetable_production"><code class="docutils literal notranslate"><span class="pre">fruits_and_vegetable_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.fruits_and_vegetable_production_r"><code class="docutils literal notranslate"><span class="pre">fruits_and_vegetable_production_r()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.get_adjacency_matrix"><code class="docutils literal notranslate"><span class="pre">get_adjacency_matrix()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.get_core_matrix"><code class="docutils literal notranslate"><span class="pre">get_core_matrix()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.get_df_culture"><code class="docutils literal notranslate"><span class="pre">get_df_culture()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.get_df_elevage"><code class="docutils literal notranslate"><span class="pre">get_df_elevage()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.get_transition_matrix"><code class="docutils literal notranslate"><span class="pre">get_transition_matrix()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.grassland_and_forages_production"><code class="docutils literal notranslate"><span class="pre">grassland_and_forages_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.grassland_and_forages_production_r"><code class="docutils literal notranslate"><span class="pre">grassland_and_forages_production_r()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.imported_nitrogen"><code class="docutils literal notranslate"><span class="pre">imported_nitrogen()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.leguminous_production"><code class="docutils literal notranslate"><span class="pre">leguminous_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.leguminous_production_r"><code class="docutils literal notranslate"><span class="pre">leguminous_production_r()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.net_footprint"><code class="docutils literal notranslate"><span class="pre">net_footprint()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.net_imported_animal"><code class="docutils literal notranslate"><span class="pre">net_imported_animal()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.net_imported_plant"><code class="docutils literal notranslate"><span class="pre">net_imported_plant()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.oleaginous_production"><code class="docutils literal notranslate"><span class="pre">oleaginous_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.oleaginous_production_r"><code class="docutils literal notranslate"><span class="pre">oleaginous_production_r()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.plot_heatmap"><code class="docutils literal notranslate"><span class="pre">plot_heatmap()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.plot_heatmap_interactive"><code class="docutils literal notranslate"><span class="pre">plot_heatmap_interactive()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.primXsec"><code class="docutils literal notranslate"><span class="pre">primXsec()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.rel_fert"><code class="docutils literal notranslate"><span class="pre">rel_fert()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.roots_production"><code class="docutils literal notranslate"><span class="pre">roots_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.roots_production_r"><code class="docutils literal notranslate"><span class="pre">roots_production_r()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.stacked_plant_production"><code class="docutils literal notranslate"><span class="pre">stacked_plant_production()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.surfaces"><code class="docutils literal notranslate"><span class="pre">surfaces()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.surfaces_tot"><code class="docutils literal notranslate"><span class="pre">surfaces_tot()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.tot_fert"><code class="docutils literal notranslate"><span class="pre">tot_fert()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.NitrogenFlowModel_prospect.total_plant_production"><code class="docutils literal notranslate"><span class="pre">total_plant_production()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y"><code class="docutils literal notranslate"><span class="pre">Y</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.Y_th"><code class="docutils literal notranslate"><span class="pre">Y_th()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.Y_th_exp"><code class="docutils literal notranslate"><span class="pre">Y_th_exp()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.Y_th_exp_cap"><code class="docutils literal notranslate"><span class="pre">Y_th_exp_cap()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.Y_th_lin"><code class="docutils literal notranslate"><span class="pre">Y_th_lin()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.Y_th_lin_2"><code class="docutils literal notranslate"><span class="pre">Y_th_lin_2()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.Y_th_lin_2_smooth"><code class="docutils literal notranslate"><span class="pre">Y_th_lin_2_smooth()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.Y_th_poly"><code class="docutils literal notranslate"><span class="pre">Y_th_poly()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.Y_th_poly_cap"><code class="docutils literal notranslate"><span class="pre">Y_th_poly_cap()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.Y_th_sigmoid"><code class="docutils literal notranslate"><span class="pre">Y_th_sigmoid()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.Y_th_sigmoid_cap"><code class="docutils literal notranslate"><span class="pre">Y_th_sigmoid_cap()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.compare_r2"><code class="docutils literal notranslate"><span class="pre">compare_r2()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.fit_Y"><code class="docutils literal notranslate"><span class="pre">fit_Y()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.fit_Y_exp"><code class="docutils literal notranslate"><span class="pre">fit_Y_exp()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.fit_Y_exp_2"><code class="docutils literal notranslate"><span class="pre">fit_Y_exp_2()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.fit_Y_lin"><code class="docutils literal notranslate"><span class="pre">fit_Y_lin()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.fit_Y_lin_2"><code class="docutils literal notranslate"><span class="pre">fit_Y_lin_2()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.fit_Y_lin_2_scipy"><code class="docutils literal notranslate"><span class="pre">fit_Y_lin_2_scipy()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.fit_Y_lin_2_smooth"><code class="docutils literal notranslate"><span class="pre">fit_Y_lin_2_smooth()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.fit_Y_poly"><code class="docutils literal notranslate"><span class="pre">fit_Y_poly()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.fit_Y_poly_constrained"><code class="docutils literal notranslate"><span class="pre">fit_Y_poly_constrained()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.fit_Y_sigmoid"><code class="docutils literal notranslate"><span class="pre">fit_Y_sigmoid()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.get_Y"><code class="docutils literal notranslate"><span class="pre">get_Y()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.plot_Y"><code class="docutils literal notranslate"><span class="pre">plot_Y()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.plot_Y_exp"><code class="docutils literal notranslate"><span class="pre">plot_Y_exp()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.plot_Y_lin"><code class="docutils literal notranslate"><span class="pre">plot_Y_lin()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.plot_Y_lin_2"><code class="docutils literal notranslate"><span class="pre">plot_Y_lin_2()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.plot_Y_lin_2_smooth"><code class="docutils literal notranslate"><span class="pre">plot_Y_lin_2_smooth()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.plot_Y_poly"><code class="docutils literal notranslate"><span class="pre">plot_Y_poly()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.Y.plot_Y_sigmoid"><code class="docutils literal notranslate"><span class="pre">plot_Y_sigmoid()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.scenario"><code class="docutils literal notranslate"><span class="pre">scenario</span></code></a><ul class="visible nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.scenario.LU_excretion"><code class="docutils literal notranslate"><span class="pre">LU_excretion()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.scenario.LU_prod"><code class="docutils literal notranslate"><span class="pre">LU_prod()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.scenario.extrapolate_recent_trend"><code class="docutils literal notranslate"><span class="pre">extrapolate_recent_trend()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.scenario.generate_base_scenar"><code class="docutils literal notranslate"><span class="pre">generate_base_scenar()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.scenario.generate_crop_tab"><code class="docutils literal notranslate"><span class="pre">generate_crop_tab()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.scenario.generate_scenario_excel"><code class="docutils literal notranslate"><span class="pre">generate_scenario_excel()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.scenario.get_import_net"><code class="docutils literal notranslate"><span class="pre">get_import_net()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.scenario.historic_trend"><code class="docutils literal notranslate"><span class="pre">historic_trend()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.scenario.livestock_LU"><code class="docutils literal notranslate"><span class="pre">livestock_LU()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.scenario.logistic_urb_pop"><code class="docutils literal notranslate"><span class="pre">logistic_urb_pop()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.prospective.scenario.pre_generate_scenario_excel"><code class="docutils literal notranslate"><span class="pre">pre_generate_scenario_excel()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-grafs_e.sankey">grafs_e.sankey module</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.sankey.merge_nodes"><code class="docutils literal notranslate"><span class="pre">merge_nodes()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.sankey.streamlit_sankey"><code class="docutils literal notranslate"><span class="pre">streamlit_sankey()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.sankey.streamlit_sankey_app"><code class="docutils literal notranslate"><span class="pre">streamlit_sankey_app()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.sankey.streamlit_sankey_fertilization"><code class="docutils literal notranslate"><span class="pre">streamlit_sankey_fertilization()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.sankey.streamlit_sankey_food_flows"><code class="docutils literal notranslate"><span class="pre">streamlit_sankey_food_flows()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.sankey.streamlit_sankey_systemic_flows"><code class="docutils literal notranslate"><span class="pre">streamlit_sankey_systemic_flows()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-grafs_e">Module contents</a><ul class="visible nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grafs_e.main"><code class="docutils literal notranslate"><span class="pre">main()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/grafs_e.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2025, Adrien Fauste-Gay.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>